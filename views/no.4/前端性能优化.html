<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端性能优化 | 个人博客</title>
    <meta name="description" content="来了老弟">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    
    <link rel="preload" href="/blogs/views/assets/css/0.styles.c95c3c00.css" as="style"><link rel="preload" href="/blogs/views/assets/js/app.cfcf0631.js" as="script"><link rel="preload" href="/blogs/views/assets/js/2.a104c409.js" as="script"><link rel="preload" href="/blogs/views/assets/js/62.b50770e3.js" as="script"><link rel="prefetch" href="/blogs/views/assets/js/10.708252b6.js"><link rel="prefetch" href="/blogs/views/assets/js/11.20326c34.js"><link rel="prefetch" href="/blogs/views/assets/js/12.2fb6ce8c.js"><link rel="prefetch" href="/blogs/views/assets/js/13.7b64cda2.js"><link rel="prefetch" href="/blogs/views/assets/js/14.35703575.js"><link rel="prefetch" href="/blogs/views/assets/js/15.9d2cc0bf.js"><link rel="prefetch" href="/blogs/views/assets/js/16.5e6b1e72.js"><link rel="prefetch" href="/blogs/views/assets/js/17.0d21dde8.js"><link rel="prefetch" href="/blogs/views/assets/js/18.14edca2f.js"><link rel="prefetch" href="/blogs/views/assets/js/19.801c3709.js"><link rel="prefetch" href="/blogs/views/assets/js/20.343bca2e.js"><link rel="prefetch" href="/blogs/views/assets/js/21.0b2f1190.js"><link rel="prefetch" href="/blogs/views/assets/js/22.589e9598.js"><link rel="prefetch" href="/blogs/views/assets/js/23.e88b0397.js"><link rel="prefetch" href="/blogs/views/assets/js/24.45ef53d6.js"><link rel="prefetch" href="/blogs/views/assets/js/25.24eb8691.js"><link rel="prefetch" href="/blogs/views/assets/js/26.4487f1f5.js"><link rel="prefetch" href="/blogs/views/assets/js/27.a4e3ee40.js"><link rel="prefetch" href="/blogs/views/assets/js/28.10254ba7.js"><link rel="prefetch" href="/blogs/views/assets/js/29.3ca5f555.js"><link rel="prefetch" href="/blogs/views/assets/js/3.691f73db.js"><link rel="prefetch" href="/blogs/views/assets/js/30.8c4f539f.js"><link rel="prefetch" href="/blogs/views/assets/js/31.dd036fea.js"><link rel="prefetch" href="/blogs/views/assets/js/32.d31f3e57.js"><link rel="prefetch" href="/blogs/views/assets/js/33.f5833114.js"><link rel="prefetch" href="/blogs/views/assets/js/34.a5547ef5.js"><link rel="prefetch" href="/blogs/views/assets/js/35.e36b66af.js"><link rel="prefetch" href="/blogs/views/assets/js/36.33c22ed2.js"><link rel="prefetch" href="/blogs/views/assets/js/37.1072700a.js"><link rel="prefetch" href="/blogs/views/assets/js/38.f26d11af.js"><link rel="prefetch" href="/blogs/views/assets/js/39.9f3e6cc4.js"><link rel="prefetch" href="/blogs/views/assets/js/4.d1c3bf1a.js"><link rel="prefetch" href="/blogs/views/assets/js/40.1ec96372.js"><link rel="prefetch" href="/blogs/views/assets/js/41.f9de0878.js"><link rel="prefetch" href="/blogs/views/assets/js/42.9f9da165.js"><link rel="prefetch" href="/blogs/views/assets/js/43.9665c438.js"><link rel="prefetch" href="/blogs/views/assets/js/44.cb8ecdbf.js"><link rel="prefetch" href="/blogs/views/assets/js/45.f785ab50.js"><link rel="prefetch" href="/blogs/views/assets/js/46.a671d7c7.js"><link rel="prefetch" href="/blogs/views/assets/js/47.ac2eabb9.js"><link rel="prefetch" href="/blogs/views/assets/js/48.f377fd69.js"><link rel="prefetch" href="/blogs/views/assets/js/49.fe3770ad.js"><link rel="prefetch" href="/blogs/views/assets/js/5.03d49c84.js"><link rel="prefetch" href="/blogs/views/assets/js/50.55ed669b.js"><link rel="prefetch" href="/blogs/views/assets/js/51.8f357230.js"><link rel="prefetch" href="/blogs/views/assets/js/52.2d12ba1b.js"><link rel="prefetch" href="/blogs/views/assets/js/53.6a17b1b4.js"><link rel="prefetch" href="/blogs/views/assets/js/54.ab71ef6b.js"><link rel="prefetch" href="/blogs/views/assets/js/55.5865098a.js"><link rel="prefetch" href="/blogs/views/assets/js/56.80744420.js"><link rel="prefetch" href="/blogs/views/assets/js/57.cbc1186a.js"><link rel="prefetch" href="/blogs/views/assets/js/58.6f20f6fd.js"><link rel="prefetch" href="/blogs/views/assets/js/59.ef42c359.js"><link rel="prefetch" href="/blogs/views/assets/js/6.d9af1507.js"><link rel="prefetch" href="/blogs/views/assets/js/60.f95c656e.js"><link rel="prefetch" href="/blogs/views/assets/js/61.f0db5cac.js"><link rel="prefetch" href="/blogs/views/assets/js/63.83ae7059.js"><link rel="prefetch" href="/blogs/views/assets/js/64.a1aa601f.js"><link rel="prefetch" href="/blogs/views/assets/js/65.1c70a42c.js"><link rel="prefetch" href="/blogs/views/assets/js/66.8d885048.js"><link rel="prefetch" href="/blogs/views/assets/js/67.1c9e593a.js"><link rel="prefetch" href="/blogs/views/assets/js/68.9eccd2c5.js"><link rel="prefetch" href="/blogs/views/assets/js/69.87e32ce6.js"><link rel="prefetch" href="/blogs/views/assets/js/7.c9280a69.js"><link rel="prefetch" href="/blogs/views/assets/js/70.4b67fb9d.js"><link rel="prefetch" href="/blogs/views/assets/js/71.8a5abb32.js"><link rel="prefetch" href="/blogs/views/assets/js/72.b2bd89ec.js"><link rel="prefetch" href="/blogs/views/assets/js/73.78e81e1b.js"><link rel="prefetch" href="/blogs/views/assets/js/74.da8309f0.js"><link rel="prefetch" href="/blogs/views/assets/js/75.734116c4.js"><link rel="prefetch" href="/blogs/views/assets/js/76.9e45a6d7.js"><link rel="prefetch" href="/blogs/views/assets/js/77.91f3072f.js"><link rel="prefetch" href="/blogs/views/assets/js/78.ab2b9c9d.js"><link rel="prefetch" href="/blogs/views/assets/js/79.0ca37cfd.js"><link rel="prefetch" href="/blogs/views/assets/js/8.af451c77.js"><link rel="prefetch" href="/blogs/views/assets/js/9.ee1cce38.js">
    <link rel="stylesheet" href="/blogs/views/assets/css/0.styles.c95c3c00.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/views/" class="home-link router-link-active"><!----> <span class="site-name">个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端资料</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>css</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/css-3d/css-3d.html" class="nav-link">css3D</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/css-core/css-core.html" class="nav-link">css3开发常备核心技能</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/css-core/css-layer.html" class="nav-link">CSS分层理论与面向对象</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/css-math/css-math.html" class="nav-link">CSS与数学</a></li></ul></li><li class="dropdown-item"><h4>HTML</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/html-senior/html-senior.html" class="nav-link">你不知道的HTML</a></li></ul></li><li class="dropdown-item"><h4>JavaScript语言新发展</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/JavaScript语言新发展【深度实践课】/ES6 在企业中的应用.html" class="nav-link">ES6 在企业中的应用</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/JavaScript语言新发展【深度实践课】/javascript与QA工程师.html" class="nav-link">javascript与QA工程师</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/JavaScript语言新发展【深度实践课】/TypeScript 前世今生.html" class="nav-link">TypeScript 前世今生</a></li></ul></li><li class="dropdown-item"><h4>JavaScript</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/JQuery/Jquery.html" class="nav-link">Jquery</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/js/bind_call_apply.html" class="nav-link">bind_call_apply</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/js/es6.html" class="nav-link">ES6</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/js/js-core.html" class="nav-link">js核心</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/js/scope.html" class="nav-link">作用域</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/js/this.html" class="nav-link">This</a></li></ul></li><li class="dropdown-item"><h4>前端工程化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/免密登录.html" class="nav-link">免密登录</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/前端自动化.html" class="nav-link">前端自动化</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/文件操作权限.html" class="nav-link">文件操作权限</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/bower.html" class="nav-link">bower</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/browserify.html" class="nav-link">browserify</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/centos_jenkins_nginx遇到的一些问题.html" class="nav-link">centos问题整理</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/CommoJS与ES6module对比.html" class="nav-link">CommoJS与ES6module对比</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/grunt.html" class="nav-link">grunt</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/gulp.html" class="nav-link">gulp</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/jenkins.html" class="nav-link">jenkins</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/linux_sed_awk.html" class="nav-link">sed与awk</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/LINUX创建文件和目录的默认权限.html" class="nav-link">LINUX创建文件和目录的默认权限</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/linux防火墙.html" class="nav-link">linux防火墙</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/parcel.html" class="nav-link">parcel</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/pm2指南.html" class="nav-link">pm2指南</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/rollup.html" class="nav-link">rollup</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/webpack.html" class="nav-link">webpack</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/yeoman.html" class="nav-link">yeoman</a></li></ul></li><li class="dropdown-item"><h4>前端优化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.4/雅虎军规.html" class="nav-link">雅虎军规</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.4/面向切面编程.html" class="nav-link">面向切面编程</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.4/前端高级调试.html" class="nav-link">前端高级调试</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.4/js内存泄露.html" class="nav-link">js内存泄露</a></li></ul></li><li class="dropdown-item"><h4>Linux</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/linux/linux.html" class="nav-link">Linux</a></li></ul></li><li class="dropdown-item"><h4>Linux</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/linux/linux.html" class="nav-link">Linux</a></li></ul></li><li class="dropdown-item"><h4>MySQL &amp; PHP</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/php&amp;mysql/php&amp;mysql.html" class="nav-link">MySQL &amp; PHP</a></li></ul></li><li class="dropdown-item"><h4>读博客有感</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/bind的模拟实现.html" class="nav-link">bind的模拟实现</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/call和apply的模拟实现.html" class="nav-link">call和apply的模拟实现</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/new的模拟实现.html" class="nav-link">new的模拟实现</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/作用域链.html" class="nav-link">作用域链</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/原型与原型链.html" class="nav-link">原型与原型链</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/变量对象.html" class="nav-link">变量对象</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/执行上下文栈.html" class="nav-link">执行上下文栈</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/词法作用域与动态作用域.html" class="nav-link">词法作用域与动态作用域</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/闭包.html" class="nav-link">闭包</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/闭包与GC.html" class="nav-link">闭包与GC</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blogs/views/javascript-QA/index.html" class="nav-link">javascript与测试工程师</a></div><div class="nav-item"><a href="/blogs/views/no.2/http.html" class="nav-link">HTTP</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">nginx</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>nginx</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/nginx.html" class="nav-link">nginx</a></li></ul></li><li class="dropdown-item"><h4>函数式编程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.1/函数式编程/" class="nav-link">函数式编程</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">编程思想</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>元编程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.1/元编程/" class="nav-link">元编程</a></li></ul></li><li class="dropdown-item"><h4>函数式编程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.1/函数式编程/" class="nav-link">函数式编程</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">node</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>node</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/node/node/node.html" class="nav-link">node</a></li><li class="dropdown-subitem"><a href="/blogs/views/node/node/fs.html" class="nav-link">文件模块</a></li><li class="dropdown-subitem"><a href="/blogs/views/node/node/nodemon.html" class="nav-link">node热启动</a></li></ul></li><li class="dropdown-item"><h4>Express</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/node/express/express.html" class="nav-link">express</a></li><li class="dropdown-subitem"><a href="/blogs/views/node/express/middleware.html" class="nav-link">中间件</a></li></ul></li><li class="dropdown-item"><h4>Koa</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/node/koa/koa.html" class="nav-link">koa</a></li><li class="dropdown-subitem"><a href="/blogs/views/node/koa/koa_router.html" class="nav-link">koa路由</a></li><li class="dropdown-subitem"><a href="/blogs/views/node/koa/koa-generator.html" class="nav-link">koa应用生成器</a></li></ul></li><li class="dropdown-item"><!----> <a href="/blogs/views/node/npm/npm-scripts.html" class="nav-link">npm-scripts</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">自动化文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>centos遇到的一些问题</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/centos_jenkins_nginx遇到的一些问题.html" class="nav-link">centos遇到的一些问题</a></li></ul></li><li class="dropdown-item"><h4>CommoJS与ES6module对比</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/CommoJS与ES6module对比.html" class="nav-link">CommoJS与ES6module对比</a></li></ul></li><li class="dropdown-item"><h4>jenkins</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/jenkins.html" class="nav-link">jenkins</a></li></ul></li><li class="dropdown-item"><h4>linux_sed_awk</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/linux_sed_awk.html" class="nav-link">linux_sed_awk</a></li></ul></li><li class="dropdown-item"><h4>linux防火墙</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/linux防火墙.html" class="nav-link">linux防火墙</a></li></ul></li><li class="dropdown-item"><h4>webpack</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/webpack.html" class="nav-link">webpack</a></li></ul></li><li class="dropdown-item"><h4>免密登陆</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/免密登陆.html" class="nav-link">免密登陆</a></li></ul></li><li class="dropdown-item"><h4>前端自动化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/前端自动化.html" class="nav-link">前端自动化</a></li></ul></li><li class="dropdown-item"><h4>文件操作权限</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/文件操作权限.html" class="nav-link">文件操作权限</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端资料</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>css</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/css-3d/css-3d.html" class="nav-link">css3D</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/css-core/css-core.html" class="nav-link">css3开发常备核心技能</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/css-core/css-layer.html" class="nav-link">CSS分层理论与面向对象</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/css-math/css-math.html" class="nav-link">CSS与数学</a></li></ul></li><li class="dropdown-item"><h4>HTML</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/html-senior/html-senior.html" class="nav-link">你不知道的HTML</a></li></ul></li><li class="dropdown-item"><h4>JavaScript语言新发展</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/JavaScript语言新发展【深度实践课】/ES6 在企业中的应用.html" class="nav-link">ES6 在企业中的应用</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/JavaScript语言新发展【深度实践课】/javascript与QA工程师.html" class="nav-link">javascript与QA工程师</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/JavaScript语言新发展【深度实践课】/TypeScript 前世今生.html" class="nav-link">TypeScript 前世今生</a></li></ul></li><li class="dropdown-item"><h4>JavaScript</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/JQuery/Jquery.html" class="nav-link">Jquery</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/js/bind_call_apply.html" class="nav-link">bind_call_apply</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/js/es6.html" class="nav-link">ES6</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/js/js-core.html" class="nav-link">js核心</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/js/scope.html" class="nav-link">作用域</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/js/this.html" class="nav-link">This</a></li></ul></li><li class="dropdown-item"><h4>前端工程化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/免密登录.html" class="nav-link">免密登录</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/前端自动化.html" class="nav-link">前端自动化</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/文件操作权限.html" class="nav-link">文件操作权限</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/bower.html" class="nav-link">bower</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/browserify.html" class="nav-link">browserify</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/centos_jenkins_nginx遇到的一些问题.html" class="nav-link">centos问题整理</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/CommoJS与ES6module对比.html" class="nav-link">CommoJS与ES6module对比</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/grunt.html" class="nav-link">grunt</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/gulp.html" class="nav-link">gulp</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/jenkins.html" class="nav-link">jenkins</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/linux_sed_awk.html" class="nav-link">sed与awk</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/LINUX创建文件和目录的默认权限.html" class="nav-link">LINUX创建文件和目录的默认权限</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/linux防火墙.html" class="nav-link">linux防火墙</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/parcel.html" class="nav-link">parcel</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/pm2指南.html" class="nav-link">pm2指南</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/rollup.html" class="nav-link">rollup</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/webpack.html" class="nav-link">webpack</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.3/yeoman.html" class="nav-link">yeoman</a></li></ul></li><li class="dropdown-item"><h4>前端优化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.4/雅虎军规.html" class="nav-link">雅虎军规</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.4/面向切面编程.html" class="nav-link">面向切面编程</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.4/前端高级调试.html" class="nav-link">前端高级调试</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.4/js内存泄露.html" class="nav-link">js内存泄露</a></li></ul></li><li class="dropdown-item"><h4>Linux</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/linux/linux.html" class="nav-link">Linux</a></li></ul></li><li class="dropdown-item"><h4>Linux</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/linux/linux.html" class="nav-link">Linux</a></li></ul></li><li class="dropdown-item"><h4>MySQL &amp; PHP</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/php&amp;mysql/php&amp;mysql.html" class="nav-link">MySQL &amp; PHP</a></li></ul></li><li class="dropdown-item"><h4>读博客有感</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/bind的模拟实现.html" class="nav-link">bind的模拟实现</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/call和apply的模拟实现.html" class="nav-link">call和apply的模拟实现</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/new的模拟实现.html" class="nav-link">new的模拟实现</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/作用域链.html" class="nav-link">作用域链</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/原型与原型链.html" class="nav-link">原型与原型链</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/变量对象.html" class="nav-link">变量对象</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/执行上下文栈.html" class="nav-link">执行上下文栈</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/词法作用域与动态作用域.html" class="nav-link">词法作用域与动态作用域</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/闭包.html" class="nav-link">闭包</a></li><li class="dropdown-subitem"><a href="/blogs/views/no.0/读博客有感/闭包与GC.html" class="nav-link">闭包与GC</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blogs/views/javascript-QA/index.html" class="nav-link">javascript与测试工程师</a></div><div class="nav-item"><a href="/blogs/views/no.2/http.html" class="nav-link">HTTP</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">nginx</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>nginx</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/nginx.html" class="nav-link">nginx</a></li></ul></li><li class="dropdown-item"><h4>函数式编程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.1/函数式编程/" class="nav-link">函数式编程</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">编程思想</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>元编程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.1/元编程/" class="nav-link">元编程</a></li></ul></li><li class="dropdown-item"><h4>函数式编程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.1/函数式编程/" class="nav-link">函数式编程</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">node</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>node</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/node/node/node.html" class="nav-link">node</a></li><li class="dropdown-subitem"><a href="/blogs/views/node/node/fs.html" class="nav-link">文件模块</a></li><li class="dropdown-subitem"><a href="/blogs/views/node/node/nodemon.html" class="nav-link">node热启动</a></li></ul></li><li class="dropdown-item"><h4>Express</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/node/express/express.html" class="nav-link">express</a></li><li class="dropdown-subitem"><a href="/blogs/views/node/express/middleware.html" class="nav-link">中间件</a></li></ul></li><li class="dropdown-item"><h4>Koa</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/node/koa/koa.html" class="nav-link">koa</a></li><li class="dropdown-subitem"><a href="/blogs/views/node/koa/koa_router.html" class="nav-link">koa路由</a></li><li class="dropdown-subitem"><a href="/blogs/views/node/koa/koa-generator.html" class="nav-link">koa应用生成器</a></li></ul></li><li class="dropdown-item"><!----> <a href="/blogs/views/node/npm/npm-scripts.html" class="nav-link">npm-scripts</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">自动化文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>centos遇到的一些问题</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/centos_jenkins_nginx遇到的一些问题.html" class="nav-link">centos遇到的一些问题</a></li></ul></li><li class="dropdown-item"><h4>CommoJS与ES6module对比</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/CommoJS与ES6module对比.html" class="nav-link">CommoJS与ES6module对比</a></li></ul></li><li class="dropdown-item"><h4>jenkins</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/jenkins.html" class="nav-link">jenkins</a></li></ul></li><li class="dropdown-item"><h4>linux_sed_awk</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/linux_sed_awk.html" class="nav-link">linux_sed_awk</a></li></ul></li><li class="dropdown-item"><h4>linux防火墙</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/linux防火墙.html" class="nav-link">linux防火墙</a></li></ul></li><li class="dropdown-item"><h4>webpack</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/webpack.html" class="nav-link">webpack</a></li></ul></li><li class="dropdown-item"><h4>免密登陆</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/免密登陆.html" class="nav-link">免密登陆</a></li></ul></li><li class="dropdown-item"><h4>前端自动化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/前端自动化.html" class="nav-link">前端自动化</a></li></ul></li><li class="dropdown-item"><h4>文件操作权限</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/views/no.3/文件操作权限.html" class="nav-link">文件操作权限</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端性能优化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#浏览器渲染过程" class="sidebar-link">浏览器渲染过程</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#dns详解" class="sidebar-link">DNS详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#_1-顶级域名" class="sidebar-link">1.顶级域名</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#_2-域名服务器" class="sidebar-link">2.域名服务器</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#_3-域名解析" class="sidebar-link">3.域名解析</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#域名资源记录" class="sidebar-link">域名资源记录</a></li></ul></li><li><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#tcp三次握手与四次挥手" class="sidebar-link">TCP三次握手与四次挥手</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#tcp与udp的区别" class="sidebar-link">tcp与udp的区别</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#tcp的三次握手与四次挥手" class="sidebar-link">tcp的三次握手与四次挥手</a></li></ul></li><li><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#cdn概念" class="sidebar-link">CDN概念</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#缓存机制" class="sidebar-link">缓存机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#强制缓存" class="sidebar-link">强制缓存</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#比较缓存" class="sidebar-link">比较缓存</a></li></ul></li><li><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#性能优化启示录" class="sidebar-link">性能优化启示录</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#性能优化学徒工" class="sidebar-link">性能优化学徒工</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#雅虎军规" class="sidebar-link">雅虎军规</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#缓存策略" class="sidebar-link">缓存策略</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#网站协议" class="sidebar-link">网站协议</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.4/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html#小字为先" class="sidebar-link">小字为先</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="前端性能优化"><a href="#前端性能优化" aria-hidden="true" class="header-anchor">#</a> 前端性能优化</h1> <ul><li>浏览器渲染过程</li> <li>DNS详解</li> <li>TCP三次握手🤝</li> <li>HTTP缓存机制</li> <li>CDN与集群</li></ul> <h2 id="浏览器渲染过程"><a href="#浏览器渲染过程" aria-hidden="true" class="header-anchor">#</a> 浏览器渲染过程</h2> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/Navigation_Timing.png" alt=""></p> <p>W3C专门定义的api（嵌入关键节点的API）就是浏览器渲染的标准过程。</p> <p>Navigation_Timing可以帮助我们调试。</p> <p>过程大体可以分为三层，如下图：</p> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/navgation_timing1.png" alt=""></p> <ul><li><p>敲下回车</p></li> <li><p>1.prompt forunload（提示卸载）</p></li></ul> <p>当新的页面要被请求的时候，把旧的页面干掉，当然还是没有去请求新的页面。</p> <p>开始navigation</p> <ul><li>redirect</li></ul> <p>首先做本地重定向（查本地是否有缓存）,
并行操作unload（卸载）把上一个页面干掉，重缓存里边取新的页面。</p> <ul><li>3.App cache</li></ul> <p>开始拿资源</p> <p>没过期从本地拿然后直接processing最后交给渲染器，显卡去。</p> <p>如果缓存过期了，进行网络请求资源。走到网络层</p> <ul><li>DNS域名解析</li></ul> <p>domainnLookupStart与domainnLookupEnd</p> <ul><li><p>建立TCP链接
connectstart tcp链接
secureConnectStart  ssl加密链接开始</p></li> <li><p>http流程
requrest与response
这块受网络状态，数据量大小，CDN技术的就近原则
响应结束</p></li> <li><p>processing（资源回来了，一个html）只是一个文本文件。</p></li></ul> <p>把文档放到内存里，把文档解析成dom结构对象，把dom结构内的内嵌资源加载，进行请求，dom内容加载完毕后，生成渲染页面的dom的树结构，文档处理完了，开始处理事件，第一个事件是onload事件，</p> <p>具体流程：</p> <p>开始浏览器器渲染
<img src="https://raw.githubusercontent.com/ColaStar/static/master/images/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B.png" alt="">
1.浏览器会解析三个东西：
一是HTML/SVG/XHTML，HTML字符串描述了一个页面的结构，浏览器会把HTML结构字符串解析转换DOM树形结构。
<img src="https://raw.githubusercontent.com/ColaStar/static/master/images/DOM%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84.png" alt="">
二是CSS，解析CSS会产生CSS规则树，它和DOM结构比较像。
<img src="https://raw.githubusercontent.com/ColaStar/static/master/images/css%E8%A7%84%E5%88%99%E6%A0%91.png" alt=""></p> <p>三是Javascript脚本，等到Javascript 脚本文件加载后， 通过 DOM API 和 CSSOM API 来操作 DOM Tree 和 CSS Rule Tree。</p> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/Javascript%E8%84%9A%E6%9C%AC.png" alt="">
2.解析完成后，浏览器引擎会通过DOM Tree 和 CSS Rule Tree 来构造 Rendering Tree</p> <p>Rendering Tree 渲染树并不等同于DOM树，渲染树只会包括需要显示的节点和这些节点的样式信息。</p> <p>CSS 的 Rule Tree主要是为了完成匹配并把CSS Rule附加到Rendering Tree上的每个Element（也就是每个Frame）。</p> <p>然后，计算每个Frame 的位置，这又叫layout和reflow过程。</p> <p>3）最后通过调用操作系统Native GUI的API绘制。</p> <ul><li><p>onload</p></li> <li><p>开始render页面怎么显示交给显卡去操作</p></li></ul> <h2 id="dns详解"><a href="#dns详解" aria-hidden="true" class="header-anchor">#</a> DNS详解</h2> <p>DNS是Domain Name System ，域名系统</p> <p>他就是用来做域名转换的</p> <h3 id="_1-顶级域名"><a href="#_1-顶级域名" aria-hidden="true" class="header-anchor">#</a> 1.顶级域名</h3> <p>比如百度  <code>baidu.com</code></p> <p>www.baidu.com www其实是二级域名</p> <p>后缀 .com/.cn/.net等</p> <h3 id="_2-域名服务器"><a href="#_2-域名服务器" aria-hidden="true" class="header-anchor">#</a> 2.域名服务器</h3> <p>若干个级别</p> <h3 id="_3-域名解析"><a href="#_3-域名解析" aria-hidden="true" class="header-anchor">#</a> 3.域名解析</h3> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/dns.png" alt="">
俩种方式：</p> <p>1.正向解析：域名到IP</p> <p>2.反向解析ip到域名</p> <blockquote><p>解析过程：
1.客户端到运营商服务器</p></blockquote> <p>2.首先查缓存</p> <p>3.如果没有，去找根服务器（17台），他的作用返回后缀，告诉你通过.com去某台TLD server进行下次查询</p> <p>4.TLD server（只保存着顶级域名的name server地址）解析顶级域名（.com的TLD/.cn的TLD）</p> <p>5.name server查到最终的url，即解析到他的2.3.4.5....级域名</p> <blockquote><p>dns优化</p></blockquote> <p>优化是在运营商那而做一个大的缓存</p> <blockquote><p>注意：</p></blockquote> <p>阿里云是一整套全部包括了，而不是name server</p> <h3 id="域名资源记录"><a href="#域名资源记录" aria-hidden="true" class="header-anchor">#</a> 域名资源记录</h3> <p>记录类型
<img src="https://raw.githubusercontent.com/ColaStar/static/master/images/dns_histrory.png" alt="">
注意：</p> <ul><li>A记录主要是解析ipv4的；</li> <li>ipv6主机记录用来解析ipv6</li> <li>切换服务器时更改，cname的妙用
正常是所有的域名指向vps即多个A记录，如果用cname的话要一个A记录其他都是cname了</li></ul> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/dns_historoy2.png" alt=""></p> <h2 id="tcp三次握手与四次挥手"><a href="#tcp三次握手与四次挥手" aria-hidden="true" class="header-anchor">#</a> TCP三次握手与四次挥手</h2> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/tcp%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%B8%8E%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B.png" alt=""></p> <p>发送数据包的时候，数据包向下传递的时候逐层回家一个头，应用层-&gt;表示层-&gt;会话层 传输层 网络层 数据链路层 物理层（010101）-&gt;数据链路层 网络层 传输层 回话层 表示层 应用层</p> <p>相当于加封再解封的过程。</p> <p>像一个洋葱，一层一层的往外包</p> <p>这个头有什么用？验证，为本层次服务，每一层都有自己的顺序号。</p> <p>相当于是快递公司一样</p> <p>TCP协议模型的详解</p> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/TCP%E5%8D%8F%E8%AE%AE%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%AF%A6%E8%A7%A3" alt=""></p> <p>ping命令用的ICMP协议（数据报协议）
<img src="https://raw.githubusercontent.com/ColaStar/static/master/images/tcp%E5%8D%8F%E8%AE%AE%E5%A4%B4" alt="">
tcp协议头至少要占24个字节。这些数据都是2进制数据（因为2进制数据紧凑），http是文档。</p> <p>source：源端口，占2个字节，最大值2的16次方减1</p> <p>destinationPort 服务端口（目的端口）默认端口80，必须是80端口，如果不是，tcp不认，占2个字节最大值2的16次方减1</p> <p>sequence Number：顺序号（整型），为啥要编号呢？因为数据是被分割开逐个传输，如果中间丢包的话，服务器可以通过顺序号去判断是否重新补包，后边再组装，这样可以保证及时性和可靠性，占4个字节，最大值2的32次方。就向搬家一样给家具编号。</p> <p>Acknowledgment Number 应答号：
这个号码可以干嘛呢？  如果丢包了 接收端发给发送端的丢包编码。</p> <p>offset 偏移量（决定头的大小）</p> <h3 id="tcp与udp的区别"><a href="#tcp与udp的区别" aria-hidden="true" class="header-anchor">#</a> tcp与udp的区别</h3> <p>tcp相当于打电话
拨号 接起电话 你喂 对方回应喂 然后说话 你说挂，看还有什么没做，他说没没了挂吧 然后挂</p> <p>udp只管发，发没发到它不管，相当于广播找人。找不找的到它不管。</p> <h3 id="tcp的三次握手与四次挥手"><a href="#tcp的三次握手与四次挥手" aria-hidden="true" class="header-anchor">#</a> tcp的三次握手与四次挥手</h3> <p>在通信这一块，谁发起通信谁是客户端。</p> <p>发起请求和断开连接请求都是客户端发起的</p> <p>双向通信</p> <p>三次握手就是tcp建立链接时的通信</p> <ul><li><p>1.客户端发送链接请求（syn）同时发送一个seq顺序号</p></li> <li><p>2.服务器发送连接请求响应客户端的连接请求（syn） 和一个顺序号seq以及一个应答号（客户端发过来的顺序号加一）是放在一个包里的</p></li> <li><p>3.客户端表示收到服务器的请求发送一个应答号（服务器的顺序号加一）</p></li> <li><p>4.连接成功</p></li></ul> <p>开始数据传输（来来回回n次）顺序号与应答号一直叠加</p> <p>四次挥手就是断开连接的通信（）</p> <ul><li>客户端发送服务情请求断开连接的包，并且询问通知服务器要断开请求，询问活干完没，一个顺序号。</li> <li>服务器 发送一个收到请求的应答号的包，然后检查一下工作是否完成，向客户端发送一个断开确认的包，顺序号。</li> <li>收到断开确认包后，向服务器发送断开确认的包，应答号。</li></ul> <blockquote><p>双向双工通信，单向单工通信</p></blockquote> <ul><li><p>单向: 一个端只能向另一端发送，但不能接受，即一段只有发送工具，一端只有接受的功能。</p></li> <li><p>双向：俩端可以互相传。</p></li> <li><p>单工：如果是双向通信的话，当一方在向另一方发送，另一方不能向对方发送数据</p></li> <li><p>双工：如果是双向通信的话，当一方在向另一方发送，另一方可以同时向对方发送数据，</p></li></ul> <p>例子：</p> <ul><li><p>对讲机是单工双向通信；</p></li> <li><p>电话是双工通信</p></li></ul> <h2 id="cdn概念"><a href="#cdn概念" aria-hidden="true" class="header-anchor">#</a> CDN概念</h2> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/cdn.png" alt=""></p> <p>图一：集中式（传统的网络）必须从一台服务器上请求</p> <p>带宽，距离，一个服务器造成延迟与服务器压力问题</p> <p>图二：cdn模式（讲求近就原则）</p> <p>即产生多个镜像服务器，解决了服务器压力以及延迟</p> <p>CDN缓存</p> <p>CDN缓存属于Cache服务器的一种。
CDN的全称是Content Delivery Network，即内容分发网络。其目的是通过在现有的Internet中增加一层新的网络架构，将网站的内容发布到最接近用户的网络&quot;边缘&quot;，使用户可 以就近取得所需的内容，解决Internet网络拥塞状况，提高用户访问网站的响应速度。从技术上全面解决由于网络带宽小、用户访问量大、网点分布不均等 原因，解决用户访问网站的响应速度慢的根本原因。</p> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/cdn%E7%BC%93%E5%AD%98.png" alt=""></p> <p>通过上图，我们可以了解到，使用了CDN缓存后的网站的访问过程为：
　　1)、用户向浏览器提供要访问的域名；
　　2)、浏览器调用域名解析库对域名进行解析，由于CDN对域名解析过程进行了调整，所以解析函数库一般得到的是该域名对应的CNAME记录，为了得到实际IP地址，浏览器需要再次对获得的CNAME域名进行解析以得到实际的IP地址；在此过程中，使用的全局负载均衡DNS解析，如根据地理位置信 息解析对应的IP地址，使得用户能就近访问。
　　3)、此次解析得到CDN缓存服务器的IP地址，浏览器在得到实际的IP地址以后，向缓存服务器发出访问请求；
　　4)、若请求文件并未修改，返回304（充当服务器的角色）。若当前文件已过期，则缓存服务器根据浏览器提供的要访问的域名，通过Cache内部专用DNS解析得到此域名的实际IP地址，再由缓存服务器向此实际IP地址提交访问请求；
　　5)、缓存服务器从实际IP地址得得到内容以后，一方面在本地进行保存，以备以后使用，二方面把获取的数据返回给客户端，完成数据服务过程；
　　6)、客户端得到由缓存服务器返回的数据以后显示出来并完成整个浏览的数据请求过程。</p> <h2 id="缓存机制"><a href="#缓存机制" aria-hidden="true" class="header-anchor">#</a> 缓存机制</h2> <p>浏览器第一次请求流程图
<img src="https://raw.githubusercontent.com/ColaStar/static/master/images/%E8%AF%B7%E6%B1%82%E7%BC%93%E5%AD%98%E7%9A%84%E6%B5%81%E7%A8%8B2.png" alt="">
浏览器再次请求时
<img src="https://raw.githubusercontent.com/ColaStar/static/master/images/%E8%AF%B7%E6%B1%82%E7%BC%93%E5%AD%98%E7%9A%84%E6%B5%81%E7%A8%8B2.png" alt="">
缓存会根据请求保存输出内容的副本，例如html页面，图片，文件，当下一个请求来到的时候:如果是相同的URL，缓存直接使用副本响应访问请求，而不是向源服务器再次发送请求，。
<img src="https://raw.githubusercontent.com/ColaStar/static/master/images/%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E4%B8%8E%E7%BC%93%E5%AD%98.png" alt="">
浏览器缓存行为还有用户的行为有关</p> <p>缓存的优点：</p> <ul><li>减少相应延迟，提高响应速度</li> <li>减少网络带宽消耗</li></ul> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6.png" alt=""></p> <p>浏览器的缓存是强制缓存与对比缓存搭配起来用的</p> <p>缓存分为俩大类：
强制缓存不管服务器是否要求都要缓存</p> <p>对比缓存，通过与服务器对比去缓存（把缓存标记和时间确定是否要去缓存）；</p> <h3 id="强制缓存"><a href="#强制缓存" aria-hidden="true" class="header-anchor">#</a> 强制缓存</h3> <p>强制缓存，服务器通知浏览器一个缓存时间，在缓存时内，下次请求，直接用缓存，不在时间内，执行比较缓存策略。</p> <p>对于强制缓存来说，响应header中会有两个字段来标明失效规则（Expires/Cache-Control）
使用chrome的开发者工具，可以很明显的看到对于强制缓存生效时，网络请求的情况</p> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/%E5%BC%BA%E5%88%B6%E7%BC%93%E5%AD%98-%E6%B5%8F%E8%A7%88%E5%99%A8.png" alt=""></p> <p><strong>Expires</strong></p> <p>Expires的值为服务端返回的到期时间，即下一次请求时，请求时间小于服务端返回的到期时间，直接使用缓存数据。
不过Expires 是HTTP 1.0的东西，现在默认浏览器均默认使用HTTP 1.1，所以它的作用基本忽略。
另一个问题是，到期时间是由服务端生成的，但是客户端时间可能跟服务端时间有误差，这就会导致缓存命中的误差。
所以HTTP 1.1 的版本，使用Cache-Control替代。</p> <p><strong>Cache-Control</strong></p> <p>Cache-Control 是最重要的规则。常见的取值有private、public、no-cache、max-age，no-store，默认为private。</p> <ul><li>private: 客户端可以缓存</li> <li>public: 客户端和代理服务器都可缓存（前端的同学，可以认为public和private是一样的）</li> <li>max-age=xxx: 缓存的内容将在 xxx 秒后失效</li> <li>no-cache: 需要使用对比缓存来验证缓存数据（后面介绍）</li> <li>no-store: 所有内容都不会缓存，强制缓存，对比缓存都不会触发（对于前端开发来说，缓存越多越好，so…基本上和它说886）</li></ul> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/%E5%BC%BA%E7%BC%93%E5%AD%98-%E8%AF%B7%E6%B1%82%E5%A4%B4.png" alt=""></p> <p>图中Cache-Control仅指定了max-age，所以默认为private，缓存时间为31536000秒（365天）
也就是说，在365天内再次请求这条数据，都会直接获取缓存数据库中的数据，直接使用。</p> <h3 id="比较缓存"><a href="#比较缓存" aria-hidden="true" class="header-anchor">#</a> 比较缓存</h3> <ul><li>比较缓存，顾名思义，需要进行比较判断是否可以使用缓存，也叫协商缓存，</li></ul> <p>浏览器第一次请求数据时，服务器会将缓存标识与数据一起返回给客户端，客户端将二者备份至缓存数据库中。 再次请求数据时，客户端将备份的缓存标识发送给服务器，服务器根据缓存标识进行判断，判断成功后，返回304状态码，通知客户端比较成功，可以使用缓存数据。</p> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/%E6%AF%94%E8%BE%83%E7%BC%93%E5%AD%98-%E6%B5%8F%E8%A7%88%E5%99%A8.png" alt=""></p> <p>通过两图的对比，我们可以很清楚的发现，在对比缓存生效时，状态码为304，并且报文大小和请求时间大大减少。
原因是，服务端在进行标识比较后，只返回header部分，通过状态码通知客户端使用缓存，不再需要将报文主体部分返回给客户端。</p> <p>对于对比缓存来说，缓存标识的传递是我们着重需要理解的，它在请求header和响应header间进行传递，
一共分为两种标识传递或者叫俩种策略，接下来，我们分开介绍</p> <blockquote><p><strong>Last-Modified/If-Modified-Since策略</strong></p></blockquote> <p>**Last-Modified：**服务器在响应请求时，告诉浏览器资源的最后修改时间。</p> <p><img src="images/Last-Modified.png" alt=""></p> <ul><li>两类缓存规则可以同时存在，强制缓存优先级高于对比缓存，也就是说，当执行强制缓存的规则时，如果缓存生效，直接使用缓存，不再执行对比缓存规则。</li></ul> <p><strong>If-Modified-Since：</strong>
再次请求服务器时，通过此字段通知服务器上次请求时，服务器返回的资源最后修改时间。
服务器收到请求后发现有头If-Modified-Since 则与被请求资源的最后修改时间进行比对。
若资源的最后修改时间大于If-Modified-Since，说明资源又被改动过，则响应整片资源内容，返回状态码200；
若资源的最后修改时间小于或等于If-Modified-Since，说明资源无新修改，则响应HTTP 304，告知浏览器继续使用所保存的cache。</p> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/If-Modified-Since.png" alt=""></p> <blockquote><p><strong>Etag/If-None-Match策略</strong></p></blockquote> <p>（优先级高于Last-Modified / If-Modified-Since）</p> <p><strong>Etag：</strong>
服务器响应请求时，告诉浏览器当前资源在服务器的唯一标识（生成规则由服务器决定）</p> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/Etag.png" alt=""></p> <p><strong>If-None-Match:</strong></p> <p>再次请求服务器时，通过此字段通知服务器客户段缓存数据的唯一标识。
服务器收到请求后发现有头If-None-Match 则与被请求资源的唯一标识进行比对，
不同，说明资源又被改动过，则响应整片资源内容，返回状态码200；
相同，说明资源无新修改，则响应HTTP 304，告知浏览器继续使用所保存的cache</p> <p><img src="https://raw.githubusercontent.com/ColaStar/static/master/images/If-None-Match.png" alt=""></p> <h1 id="袁志佳"><a href="#袁志佳" aria-hidden="true" class="header-anchor">#</a> 袁志佳</h1> <h2 id="性能优化启示录"><a href="#性能优化启示录" aria-hidden="true" class="header-anchor">#</a> 性能优化启示录</h2> <p>为什么要进行性能优化？</p> <p>性能优化的白皮书中：</p> <ul><li>57%的⽤户更在乎⽹⻚在3秒内是否完成加载。</li> <li>52%的在线⽤户认为⽹⻚打开速度影响到他们对⽹站的忠实度。</li> <li>每慢1秒造成⻚⾯ PV 降低11%，⽤户满意度也随之降低降低16%。</li> <li>近半数移动⽤户因为在10秒内仍未打开⻚⾯从⽽放弃。</li></ul> <h2 id="性能优化学徒工"><a href="#性能优化学徒工" aria-hidden="true" class="header-anchor">#</a> 性能优化学徒工</h2> <p>雅虎军规：核心：压缩合并与md5，html/css做hint</p> <p>多个cdn资源-&gt;百度首页的cookie非常大，静态资源不需要，所以换一个域名而不是没次请求的时候都会带着。网站会有并发限制，用cdn的话就不会有了。</p> <p>开启gzip，</p> <p>cdn的好处？</p> <p>keep-alive:</p> <p><img src="%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.png" alt=""></p> <h3 id="雅虎军规"><a href="#雅虎军规" aria-hidden="true" class="header-anchor">#</a> 雅虎军规</h3> <h3 id="缓存策略"><a href="#缓存策略" aria-hidden="true" class="header-anchor">#</a> 缓存策略</h3> <h3 id="网站协议"><a href="#网站协议" aria-hidden="true" class="header-anchor">#</a> 网站协议</h3> <h3 id="小字为先"><a href="#小字为先" aria-hidden="true" class="header-anchor">#</a> 小字为先</h3> <p>memory-cache/disk-cache总结</p> <p>webkit的资源分类主要是俩大类：主资源和派生资源</p> <h4 id="http状态码"><a href="#http状态码" aria-hidden="true" class="header-anchor">#</a> http状态码</h4> <blockquote><p>200 from memory cache</p></blockquote> <p>不访问服务器，直接读缓存，从内存中读取缓存。此时的数据时缓存到内存中的，当kill进程后，也就是浏览器关闭以后，数据将不存在。</p> <p>但是这种方式只能缓存派生资源。</p> <blockquote><p>200 from disk cache</p></blockquote> <p>不访问服务器，直接读缓存，从磁盘中读取缓存，当kill进程时，数据还是存在。</p> <p>这种方式也只能缓存派生资源</p> <blockquote><p>304 Not Modified
访问服务器，发现数据没有
更新，服务器返回此状态码。然后从缓存中读取数据。</p></blockquote> <h4 id="三级缓存原理"><a href="#三级缓存原理" aria-hidden="true" class="header-anchor">#</a> 三级缓存原理</h4> <ul><li>1.先去内存看，如果有，直接加载</li> <li>2.如果内存没有，择取硬盘获取，如果有直接加载</li> <li>3.如果硬盘也没有，那么就进行网络请求</li> <li>4.加载到的资源缓存到硬盘和内存</li></ul> <p>访问-&gt; 200 -&gt; 退出浏览器
再进来-&gt; 200(from disk cache) -&gt; 刷新 -&gt; 200(from memory cache)</p> <p>缓存优先级
last-modified/if-modified-since -&gt; Etag/if-none-march -&gt; expires/cache-Conctl</p> <p>因为库文件不是频繁变动，做强缓（过期时间999年），业务文件（etag/last-modified/离线缓存）</p> <p>websql可以存50m，但是读取速度缓慢，有可能比你的网络请求还长，他主要依赖硬件。</p> <p>webpack打包一份key的js（存localstore的key，value）</p> <p>localstore缓存html 、js文件/css文件等，</p> <p>backet.js</p> <p>无痕模式/急速模式 时：</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">7/15/2019, 12:49:29 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blogs/views/assets/js/app.cfcf0631.js" defer></script><script src="/blogs/views/assets/js/2.a104c409.js" defer></script><script src="/blogs/views/assets/js/62.b50770e3.js" defer></script>
  </body>
</html>
