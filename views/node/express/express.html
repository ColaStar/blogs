<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Express 框架 | 个人博客</title>
    <meta name="description" content="滟滟随波千万里，何处春江无月明！">
    <link rel="icon" href="https://colastar.github.io/blogs/views/images/favicon.ico">
  <link rel="manifest" href="https://colastar.github.io/blogs/views/js/manifest.json">
  <link rel="apple-touch-icon" href="https://colastar.github.io/blogs/views/images/logo.png">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://colastar.github.io/blogs/views/js/tj.js"></script>
  <script src="https://colastar.github.io/blogs/views/js/code.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    
    <link rel="preload" href="/blogs/views/assets/css/0.styles.16aae78f.css" as="style"><link rel="preload" href="/blogs/views/assets/js/app.13e20456.js" as="script"><link rel="preload" href="/blogs/views/assets/js/2.d340cefd.js" as="script"><link rel="preload" href="/blogs/views/assets/js/111.ed8922bf.js" as="script"><link rel="prefetch" href="/blogs/views/assets/js/10.1a72f1e6.js"><link rel="prefetch" href="/blogs/views/assets/js/100.7dd0f6ca.js"><link rel="prefetch" href="/blogs/views/assets/js/101.b3a6e805.js"><link rel="prefetch" href="/blogs/views/assets/js/102.95f46c5f.js"><link rel="prefetch" href="/blogs/views/assets/js/103.5e957213.js"><link rel="prefetch" href="/blogs/views/assets/js/104.0d44dac3.js"><link rel="prefetch" href="/blogs/views/assets/js/105.0eeac3a3.js"><link rel="prefetch" href="/blogs/views/assets/js/106.1728ef60.js"><link rel="prefetch" href="/blogs/views/assets/js/107.874eba85.js"><link rel="prefetch" href="/blogs/views/assets/js/108.c2614d02.js"><link rel="prefetch" href="/blogs/views/assets/js/109.82fcb80b.js"><link rel="prefetch" href="/blogs/views/assets/js/11.6949e833.js"><link rel="prefetch" href="/blogs/views/assets/js/110.f68276ee.js"><link rel="prefetch" href="/blogs/views/assets/js/112.1a3d2e38.js"><link rel="prefetch" href="/blogs/views/assets/js/113.cf77d521.js"><link rel="prefetch" href="/blogs/views/assets/js/114.a3fbcea1.js"><link rel="prefetch" href="/blogs/views/assets/js/115.007a509f.js"><link rel="prefetch" href="/blogs/views/assets/js/116.a1046a05.js"><link rel="prefetch" href="/blogs/views/assets/js/117.81b0677b.js"><link rel="prefetch" href="/blogs/views/assets/js/118.32428e42.js"><link rel="prefetch" href="/blogs/views/assets/js/119.f61096c6.js"><link rel="prefetch" href="/blogs/views/assets/js/12.68afe302.js"><link rel="prefetch" href="/blogs/views/assets/js/120.139e8982.js"><link rel="prefetch" href="/blogs/views/assets/js/121.17f5e2b0.js"><link rel="prefetch" href="/blogs/views/assets/js/122.1f01e615.js"><link rel="prefetch" href="/blogs/views/assets/js/123.9b9154aa.js"><link rel="prefetch" href="/blogs/views/assets/js/124.eee0cb78.js"><link rel="prefetch" href="/blogs/views/assets/js/125.44e7d0e1.js"><link rel="prefetch" href="/blogs/views/assets/js/126.50f00f88.js"><link rel="prefetch" href="/blogs/views/assets/js/127.580a0d45.js"><link rel="prefetch" href="/blogs/views/assets/js/128.62e8f2db.js"><link rel="prefetch" href="/blogs/views/assets/js/129.2b6898c4.js"><link rel="prefetch" href="/blogs/views/assets/js/13.9614aa91.js"><link rel="prefetch" href="/blogs/views/assets/js/130.d6342e66.js"><link rel="prefetch" href="/blogs/views/assets/js/131.eea09277.js"><link rel="prefetch" href="/blogs/views/assets/js/132.930eff3f.js"><link rel="prefetch" href="/blogs/views/assets/js/133.3f00ce4e.js"><link rel="prefetch" href="/blogs/views/assets/js/134.76675d93.js"><link rel="prefetch" href="/blogs/views/assets/js/135.1296360f.js"><link rel="prefetch" href="/blogs/views/assets/js/136.d90ba3d6.js"><link rel="prefetch" href="/blogs/views/assets/js/137.3ad416d0.js"><link rel="prefetch" href="/blogs/views/assets/js/138.b9c69e1b.js"><link rel="prefetch" href="/blogs/views/assets/js/139.abf88ec2.js"><link rel="prefetch" href="/blogs/views/assets/js/14.ba378faa.js"><link rel="prefetch" href="/blogs/views/assets/js/140.1b0c5edb.js"><link rel="prefetch" href="/blogs/views/assets/js/141.51149e45.js"><link rel="prefetch" href="/blogs/views/assets/js/142.cebde8e8.js"><link rel="prefetch" href="/blogs/views/assets/js/143.7d018666.js"><link rel="prefetch" href="/blogs/views/assets/js/15.a21c9fa9.js"><link rel="prefetch" href="/blogs/views/assets/js/16.e64c9375.js"><link rel="prefetch" href="/blogs/views/assets/js/17.5242c43f.js"><link rel="prefetch" href="/blogs/views/assets/js/18.9417f252.js"><link rel="prefetch" href="/blogs/views/assets/js/19.cb90520d.js"><link rel="prefetch" href="/blogs/views/assets/js/20.ec4b0a60.js"><link rel="prefetch" href="/blogs/views/assets/js/21.6a593d10.js"><link rel="prefetch" href="/blogs/views/assets/js/22.a5f2e0ca.js"><link rel="prefetch" href="/blogs/views/assets/js/23.748bc1f0.js"><link rel="prefetch" href="/blogs/views/assets/js/24.96899d90.js"><link rel="prefetch" href="/blogs/views/assets/js/25.5d00e11e.js"><link rel="prefetch" href="/blogs/views/assets/js/26.b039dc72.js"><link rel="prefetch" href="/blogs/views/assets/js/27.bf672bb7.js"><link rel="prefetch" href="/blogs/views/assets/js/28.d53e649a.js"><link rel="prefetch" href="/blogs/views/assets/js/29.ee363daf.js"><link rel="prefetch" href="/blogs/views/assets/js/3.d1743aad.js"><link rel="prefetch" href="/blogs/views/assets/js/30.c06a5b7a.js"><link rel="prefetch" href="/blogs/views/assets/js/31.0699d199.js"><link rel="prefetch" href="/blogs/views/assets/js/32.759b9d49.js"><link rel="prefetch" href="/blogs/views/assets/js/33.1695ddf9.js"><link rel="prefetch" href="/blogs/views/assets/js/34.a3a9f189.js"><link rel="prefetch" href="/blogs/views/assets/js/35.fdf85b51.js"><link rel="prefetch" href="/blogs/views/assets/js/36.ade93422.js"><link rel="prefetch" href="/blogs/views/assets/js/37.b4ede68b.js"><link rel="prefetch" href="/blogs/views/assets/js/38.2bdd656f.js"><link rel="prefetch" href="/blogs/views/assets/js/39.f1a9a8e9.js"><link rel="prefetch" href="/blogs/views/assets/js/4.4e0deb20.js"><link rel="prefetch" href="/blogs/views/assets/js/40.4668d736.js"><link rel="prefetch" href="/blogs/views/assets/js/41.405fb6b6.js"><link rel="prefetch" href="/blogs/views/assets/js/42.1bda99d9.js"><link rel="prefetch" href="/blogs/views/assets/js/43.c68d17a4.js"><link rel="prefetch" href="/blogs/views/assets/js/44.d462bad3.js"><link rel="prefetch" href="/blogs/views/assets/js/45.59254ac0.js"><link rel="prefetch" href="/blogs/views/assets/js/46.4f08518f.js"><link rel="prefetch" href="/blogs/views/assets/js/47.3fd7d93b.js"><link rel="prefetch" href="/blogs/views/assets/js/48.87171901.js"><link rel="prefetch" href="/blogs/views/assets/js/49.df2533dd.js"><link rel="prefetch" href="/blogs/views/assets/js/5.829db2fd.js"><link rel="prefetch" href="/blogs/views/assets/js/50.16133866.js"><link rel="prefetch" href="/blogs/views/assets/js/51.a1f59bfe.js"><link rel="prefetch" href="/blogs/views/assets/js/52.44143685.js"><link rel="prefetch" href="/blogs/views/assets/js/53.56932253.js"><link rel="prefetch" href="/blogs/views/assets/js/54.21f4fcc9.js"><link rel="prefetch" href="/blogs/views/assets/js/55.533bf07c.js"><link rel="prefetch" href="/blogs/views/assets/js/56.967783b7.js"><link rel="prefetch" href="/blogs/views/assets/js/57.06090e06.js"><link rel="prefetch" href="/blogs/views/assets/js/58.613a8f0f.js"><link rel="prefetch" href="/blogs/views/assets/js/59.455b80b9.js"><link rel="prefetch" href="/blogs/views/assets/js/6.9b4144c4.js"><link rel="prefetch" href="/blogs/views/assets/js/60.395193e0.js"><link rel="prefetch" href="/blogs/views/assets/js/61.1b7d7ba1.js"><link rel="prefetch" href="/blogs/views/assets/js/62.99f52cbf.js"><link rel="prefetch" href="/blogs/views/assets/js/63.4ebd23d6.js"><link rel="prefetch" href="/blogs/views/assets/js/64.5a64911a.js"><link rel="prefetch" href="/blogs/views/assets/js/65.a77ff8df.js"><link rel="prefetch" href="/blogs/views/assets/js/66.c47af622.js"><link rel="prefetch" href="/blogs/views/assets/js/67.2c379945.js"><link rel="prefetch" href="/blogs/views/assets/js/68.92a830cd.js"><link rel="prefetch" href="/blogs/views/assets/js/69.45e059df.js"><link rel="prefetch" href="/blogs/views/assets/js/7.5dd94ae7.js"><link rel="prefetch" href="/blogs/views/assets/js/70.81c48453.js"><link rel="prefetch" href="/blogs/views/assets/js/71.00101695.js"><link rel="prefetch" href="/blogs/views/assets/js/72.e51c56fb.js"><link rel="prefetch" href="/blogs/views/assets/js/73.0f6b1978.js"><link rel="prefetch" href="/blogs/views/assets/js/74.a0e9d68d.js"><link rel="prefetch" href="/blogs/views/assets/js/75.46e3bd0d.js"><link rel="prefetch" href="/blogs/views/assets/js/76.95dcbb33.js"><link rel="prefetch" href="/blogs/views/assets/js/77.96c8d93d.js"><link rel="prefetch" href="/blogs/views/assets/js/78.5cc36163.js"><link rel="prefetch" href="/blogs/views/assets/js/79.397e4ca0.js"><link rel="prefetch" href="/blogs/views/assets/js/8.21e12c98.js"><link rel="prefetch" href="/blogs/views/assets/js/80.aec4a44d.js"><link rel="prefetch" href="/blogs/views/assets/js/81.4ffa9891.js"><link rel="prefetch" href="/blogs/views/assets/js/82.f13ee68f.js"><link rel="prefetch" href="/blogs/views/assets/js/83.91b73982.js"><link rel="prefetch" href="/blogs/views/assets/js/84.e9af022e.js"><link rel="prefetch" href="/blogs/views/assets/js/85.33eaebce.js"><link rel="prefetch" href="/blogs/views/assets/js/86.53f270d3.js"><link rel="prefetch" href="/blogs/views/assets/js/87.f240f80f.js"><link rel="prefetch" href="/blogs/views/assets/js/88.1a319c71.js"><link rel="prefetch" href="/blogs/views/assets/js/89.6a596777.js"><link rel="prefetch" href="/blogs/views/assets/js/9.466cbfcc.js"><link rel="prefetch" href="/blogs/views/assets/js/90.37bde6d6.js"><link rel="prefetch" href="/blogs/views/assets/js/91.f88781d2.js"><link rel="prefetch" href="/blogs/views/assets/js/92.b30df6d3.js"><link rel="prefetch" href="/blogs/views/assets/js/93.dea56057.js"><link rel="prefetch" href="/blogs/views/assets/js/94.37f4a61c.js"><link rel="prefetch" href="/blogs/views/assets/js/95.d8e49d1a.js"><link rel="prefetch" href="/blogs/views/assets/js/96.d2f599f4.js"><link rel="prefetch" href="/blogs/views/assets/js/97.b572f854.js"><link rel="prefetch" href="/blogs/views/assets/js/98.bb7dc460.js"><link rel="prefetch" href="/blogs/views/assets/js/99.bfe690dc.js">
    <link rel="stylesheet" href="/blogs/views/assets/css/0.styles.16aae78f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/views/" class="home-link router-link-active"><!----> <span class="site-name">个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs/views/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/views/no.0/js/es6.html" class="nav-link">前端基础</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/javascript-QA/javascriptqa.html" class="nav-link">javaScript与测试工程师</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.1/函数式编程/函数式编程.html" class="nav-link">编程相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.2/http.html" class="nav-link">网络</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.3/webpack.html" class="nav-link">前端自动化</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.4/前端性能优化.html" class="nav-link">前端优化</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.5/css工作流.html" class="nav-link">css相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.6/react/react.html" class="nav-link">框架相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.7/计算机组成原理.html" class="nav-link">计算机组成原理</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.8/数据结构与算法.html" class="nav-link">数据结构与算法</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/node/node/node.html" class="nav-link">node相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.10/网络安全.html" class="nav-link">网络安全</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/other/git/git命令全集.html" class="nav-link">其他相关</a></li></ul></div></div><div class="nav-item"><a href="/blogs/views/no.1/" class="nav-link">面试</a></div><div class="nav-item"><a href="https://github.com/ColaStar/blogs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blogs/views/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/views/no.0/js/es6.html" class="nav-link">前端基础</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/javascript-QA/javascriptqa.html" class="nav-link">javaScript与测试工程师</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.1/函数式编程/函数式编程.html" class="nav-link">编程相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.2/http.html" class="nav-link">网络</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.3/webpack.html" class="nav-link">前端自动化</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.4/前端性能优化.html" class="nav-link">前端优化</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.5/css工作流.html" class="nav-link">css相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.6/react/react.html" class="nav-link">框架相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.7/计算机组成原理.html" class="nav-link">计算机组成原理</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.8/数据结构与算法.html" class="nav-link">数据结构与算法</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/node/node/node.html" class="nav-link">node相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.10/网络安全.html" class="nav-link">网络安全</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/other/git/git命令全集.html" class="nav-link">其他相关</a></li></ul></div></div><div class="nav-item"><a href="/blogs/views/no.1/" class="nav-link">面试</a></div><div class="nav-item"><a href="https://github.com/ColaStar/blogs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blogs/views/node/express/express.html" class="active sidebar-link">Express 框架</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/views/node/express/express.html#express简介" class="sidebar-link">express简介</a></li><li class="sidebar-sub-header"><a href="/blogs/views/node/express/express.html#安装-express" class="sidebar-link">安装 Express</a></li><li class="sidebar-sub-header"><a href="/blogs/views/node/express/express.html#请求和响应" class="sidebar-link">请求和响应</a></li><li class="sidebar-sub-header"><a href="/blogs/views/node/express/express.html#路由" class="sidebar-link">路由</a></li><li class="sidebar-sub-header"><a href="/blogs/views/node/express/express.html#静态文件" class="sidebar-link">静态文件</a></li><li class="sidebar-sub-header"><a href="/blogs/views/node/express/express.html#get-方法" class="sidebar-link">GET 方法</a></li><li class="sidebar-sub-header"><a href="/blogs/views/node/express/express.html#post-方法" class="sidebar-link">POST 方法</a></li><li class="sidebar-sub-header"><a href="/blogs/views/node/express/express.html#文件上传" class="sidebar-link">文件上传</a></li><li class="sidebar-sub-header"><a href="/blogs/views/node/express/express.html#cookie-管理" class="sidebar-link">Cookie 管理</a></li><li class="sidebar-sub-header"><a href="/blogs/views/node/express/express.html#express脚手架" class="sidebar-link">express脚手架</a></li><li class="sidebar-sub-header"><a href="/blogs/views/node/express/express.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/blogs/views/node/express/middleware.html" class="sidebar-link">express中间件</a></li><li><a href="/blogs/views/node/koa/koa-generator.html" class="sidebar-link">KOA2脚手架</a></li><li><a href="/blogs/views/node/koa/koa.html" class="sidebar-link">koa学习记录</a></li><li><a href="/blogs/views/node/koa/koa_router.html" class="sidebar-link">路由 koa-router</a></li><li><a href="/blogs/views/node/node/fs.html" class="sidebar-link">Node.js 文件系统</a></li><li><a href="/blogs/views/node/node/node.html" class="sidebar-link">node.js</a></li><li><a href="/blogs/views/node/node/nodemon.html" class="sidebar-link">nodemon 基本配置与使用</a></li><li><a href="/blogs/views/node/npm/npm-scripts.html" class="sidebar-link">npm 脚本</a></li><li><a href="/blogs/views/node/npm/npx.html" class="sidebar-link">npx使用介绍</a></li><li><a href="/blogs/views/node/npm/nrm/nrm.html" class="sidebar-link">nrm源管理工具</a></li><li><a href="/blogs/views/node/前后端分离与用户验证.html" class="sidebar-link">前后端分离与用户验证</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="express-框架"><a href="#express-框架" aria-hidden="true" class="header-anchor">#</a> Express 框架</h1> <ul><li>express简介</li> <li>安装express</li> <li>请求与响应</li> <li>路由</li> <li>处理静态文件</li> <li>文件上传</li> <li>GET与POST</li> <li>Cookie 管理</li></ul> <h2 id="express简介"><a href="#express简介" aria-hidden="true" class="header-anchor">#</a> express简介</h2> <p>Express 是一个简洁而灵活的 node.js Web应用框架, 提供了一系列强大特性帮助你创建各种 Web 应用，和丰富的 HTTP 工具。</p> <p>使用 Express 可以快速地搭建一个完整功能的网站。</p> <p>Express 框架核心特性：</p> <ul><li><p>可以设置中间件来响应 HTTP 请求。</p></li> <li><p>定义了路由表用于执行不同的 HTTP 请求动作。</p></li> <li><p>可以通过向模板传递参数来动态渲染 HTML 页面。</p></li></ul> <h2 id="安装-express"><a href="#安装-express" aria-hidden="true" class="header-anchor">#</a> 安装 Express</h2> <p>安装 Express 并将其保存到依赖列表中：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ cnpm install express --save
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>以上命令会将 Express 框架安装在当前目录的 <code>node_modules</code> 目录中， <code>node_modules</code>目录下会自动创建 express 目录。以下几个重要的模块是需要与 express 框架一起安装的：</p> <ul><li><p>body-parser - node.js 中间件，用于处理 JSON, Raw, Text 和 URL 编码的数据。</p></li> <li><p>cookie-parser - 这就是一个解析Cookie的工具。通过req.cookies可以取到传过来的cookie，并把它们转成对象。</p></li> <li><p>multer - node.js 中间件，用于处理 enctype=&quot;multipart/form-data&quot;（设置表单的MIME编码）的表单数据。</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ cnpm install body-parser --save
$ cnpm install cookie-parser --save
$ cnpm install multer --save
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>安装完后，我们可以查看下 express 使用的版本号：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ cnpm list express
/data/www/node
└── express@4.15.2  -&gt; /Users/tianqixin/www/node/node_modules/.4.15.2@express
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>第一个 Express 框架实例
接下来我们使用 Express 框架来输出 &quot;Hello World&quot;。</p></blockquote> <p>以下实例中我们引入了 express 模块，并在客户端发起请求后，响应 &quot;Hello World&quot; 字符串。</p> <p>创建 express_demo.js 文件，代码如下所示：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//express_demo.js 文件
var express = require('express');
var app = express();
 
app.get('/', function (req, res) {
   res.send('Hello World');
})
 
var server = app.listen(8081, function () {
 
  var host = server.address().address
  var port = server.address().port
 
  console.log(&quot;应用实例，访问地址为 http://%s:%s&quot;, host, port)
 
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>执行以上代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ node express_demo.js 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>应用实例，访问地址为 http://0.0.0.0:8081
在浏览器中访问 http://127.0.0.1:8081，结果如下图所示：</p> <h2 id="请求和响应"><a href="#请求和响应" aria-hidden="true" class="header-anchor">#</a> 请求和响应</h2> <p><code>Express</code> 应用使用回调函数的参数： <code>request</code> 和 <code>response</code> 对象来处理请求和响应的数据。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>app.get('/', function (req, res) {
   // --
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>request</code> 和 <code>response</code> 对象的具体介绍：</p> <blockquote><p><code>Request</code> 对象 - <code>request</code> 对象表示 <code>HTTP</code> 请求，<strong>包含了请求查询字符串，参数，内容，HTTP 头部等属性</strong>。常见属性有：</p></blockquote> <ul><li>req.app：当callback为外部文件时，用req.app访问express的实例</li> <li>req.baseUrl：获取路由当前安装的URL路径</li> <li>req.body / req.cookies：获得「请求主体」/ Cookies</li> <li>req.fresh / req.stale：判断请求是否还「新鲜」</li> <li>req.hostname / req.ip：获取主机名和IP地址</li> <li>req.originalUrl：获取原始请求URL</li> <li>req.params：获取路由的parameters</li> <li>req.path：获取请求路径</li> <li>req.protocol：获取协议类型</li> <li>req.query：获取URL的查询参数串</li> <li>req.route：获取当前匹配的路由</li> <li>req.subdomains：获取子域名</li> <li>req.accepts()：检查可接受的请求的文档类型</li> <li>req.acceptsCharsets / req.acceptsEncodings / req.acceptsLanguages：返回指定字符集的第一个可接受字符编码</li> <li>req.get()：获取指定的HTTP请求头</li> <li>req.is()：判断请求头Content-Type的MIME类型</li></ul> <blockquote><p><code>Response</code> 对象 - <code>response</code> 对象表示 <code>HTTP</code> 响应，即在<strong>接收到请求时向客户端发送的</strong>
HTTP 响应数据。常见属性有：</p></blockquote> <ul><li>res.app：同req.app一样</li> <li>res.append()：追加指定HTTP头</li> <li>res.set()在res.append()后将重置之前设置的头</li> <li>res.cookie(name，value [，option])：设置Cookie
opition: domain / expires / httpOnly / maxAge / path / secure / signed</li> <li>res.clearCookie()：清除Cookie</li> <li>res.download()：传送指定路径的文件</li> <li>res.get()：返回指定的HTTP头</li> <li>res.json()：传送JSON响应</li> <li>res.jsonp()：传送JSONP响应</li> <li>res.location()：只设置响应的Location HTTP头，不设置状态码或者close response</li> <li>res.redirect()：设置响应的Location HTTP头，并且设置状态码302</li> <li>res.render(view,[locals],callback)：渲染一个view，同时向callback传递渲染后的字符串，如果在渲染过程中有错误发生next(err)将会被自动调用。callback将会被传入一个可能发生的错误以及渲染后的页面，这样就不会自动输出了。</li> <li>res.send()：传送HTTP响应</li> <li>res.sendFile(path [，options] [，fn])：传送指定路径的文件 -会自动根据文件extension设定Content-Type</li> <li>res.set()：设置HTTP头，传入object可以一次设置多个头</li> <li>res.status()：设置HTTP状态码</li> <li>res.type()：设置Content-Type的MIME类型</li></ul> <hr> <h2 id="路由"><a href="#路由" aria-hidden="true" class="header-anchor">#</a> 路由</h2> <p>我们已经了解了 HTTP 请求的基本应用，而路由决定了由谁(指定脚本)去响应客户端请求。</p> <p>在HTTP请求中，我们可以通过路由提取出请求的URL以及GET/POST参数。</p> <p>接下来我们扩展 Hello World，添加一些功能来处理更多类型的 HTTP 请求。</p> <p>创建 express_demo2.js 文件，代码如下所示：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>express_demo2.js 文件代码：
var express = require('express');
var app = express();
 
//  主页输出 &quot;Hello World&quot;
app.get('/', function (req, res) {
   console.log(&quot;主页 GET 请求&quot;);
   res.send('Hello GET');
})
 
 
//  POST 请求
app.post('/', function (req, res) {
   console.log(&quot;主页 POST 请求&quot;);
   res.send('Hello POST');
})
 
//  /del_user 页面响应
app.get('/del_user', function (req, res) {
   console.log(&quot;/del_user 响应 DELETE 请求&quot;);
   res.send('删除页面');
})
 
//  /list_user 页面 GET 请求
app.get('/list_user', function (req, res) {
   console.log(&quot;/list_user GET 请求&quot;);
   res.send('用户列表页面');
})
 
// 对页面 abcd, abxcd, ab123cd, 等响应 GET 请求
app.get('/ab*cd', function(req, res) {   
   console.log(&quot;/ab*cd GET 请求&quot;);
   res.send('正则匹配');
})
 
 
var server = app.listen(8081, function () {
 
  var host = server.address().address
  var port = server.address().port
 
  console.log(&quot;应用实例，访问地址为 http://%s:%s&quot;, host, port)
 
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p>执行以上代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ node express_demo2.js 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>应用实例，访问地址为 http://0.0.0.0:8081
接下来你可以尝试访问 http://127.0.0.1:8081 不同的地址，查看效果。</p> <p>在浏览器中访问 http://127.0.0.1:8081/list_user，结果如下图所示：</p> <p><a data-fancybox="" title="" href="https://www.runoob.com/wp-content/uploads/2015/09/express2.jpg"><img src="https://www.runoob.com/wp-content/uploads/2015/09/express2.jpg" alt=""></a></p> <p>在浏览器中访问 http://127.0.0.1:8081/abcd，结果如下图所示：</p> <p><a data-fancybox="" title="" href="https://www.runoob.com/wp-content/uploads/2015/09/express1.jpg"><img src="https://www.runoob.com/wp-content/uploads/2015/09/express1.jpg" alt=""></a>
在浏览器中访问 http://127.0.0.1:8081/abcdefg，结果如下图所示：
<a data-fancybox="" title="" href="https://www.runoob.com/wp-content/uploads/2015/09/express3.jpg"><img src="https://www.runoob.com/wp-content/uploads/2015/09/express3.jpg" alt=""></a></p> <h2 id="静态文件"><a href="#静态文件" aria-hidden="true" class="header-anchor">#</a> 静态文件</h2> <p>Express 提供了内置的中间件 <code>express.static</code> 来设置静态文件如：图片， CSS, JavaScript 等。</p> <p>你可以使用 express.static 中间件来设置静态文件路径。例如，如果你将图片， CSS, JavaScript 文件放在 public 目录下，你可以这么写：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>app.use('/public', express.static('public'));
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们可以到 public/images 目录下放些图片,如下所示：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>node_modules
server.js
public/
public/images
public/images/logo.png
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>让我们再修改下 &quot;Hello World&quot; 应用添加处理静态文件的功能。</p> <p>创建 express_demo3.js 文件，代码如下所示：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>express_demo3.js 文件代码：
var express = require('express');
var app = express();
 
app.use('/public', express.static('public'));
 
app.get('/', function (req, res) {
   res.send('Hello World');
})
 
var server = app.listen(8081, function () {
 
  var host = server.address().address
  var port = server.address().port
 
  console.log(&quot;应用实例，访问地址为 http://%s:%s&quot;, host, port)
 
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>执行以上代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ node express_demo3.js 
应用实例，访问地址为 http://0.0.0.0:8081
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>执行以上代码：</p> <p>在浏览器中访问 http://127.0.0.1:8081/public/images/logo.png</p> <h2 id="get-方法"><a href="#get-方法" aria-hidden="true" class="header-anchor">#</a> GET 方法</h2> <p>以下实例演示了在表单中通过 GET 方法提交两个参数，我们可以使用 server.js 文件内的 process_get 路由器来处理输入：</p> <p>index.htm 文件代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;html&gt;
&lt;body&gt;
&lt;form action=&quot;http://127.0.0.1:8081/process_get&quot; method=&quot;GET&quot;&gt;
First Name: &lt;input type=&quot;text&quot; name=&quot;first_name&quot;&gt;  &lt;br&gt;
 
Last Name: &lt;input type=&quot;text&quot; name=&quot;last_name&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>server.js 文件代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var express = require('express');
var app = express();
 
app.use('/public', express.static('public'));
 
app.get('/index.htm', function (req, res) {
   res.sendFile( __dirname + &quot;/&quot; + &quot;index.htm&quot; );
})
 
app.get('/process_get', function (req, res) {
 
   // 输出 JSON 格式
   var response = {
       &quot;first_name&quot;:req.query.first_name,
       &quot;last_name&quot;:req.query.last_name
   };
   console.log(response);
   res.end(JSON.stringify(response));
})
 
var server = app.listen(8081, function () {
 
  var host = server.address().address
  var port = server.address().port
 
  console.log(&quot;应用实例，访问地址为 http://%s:%s&quot;, host, port)
 
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>执行以上代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>node server.js 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>应用实例，访问地址为 http://0.0.0.0:8081
浏览器访问 http://127.0.0.1:8081/index.htm，如图所示：</p> <p><a data-fancybox="" title="" href="https://www.runoob.com/wp-content/uploads/2015/09/express5.jpg"><img src="https://www.runoob.com/wp-content/uploads/2015/09/express5.jpg" alt=""></a>
现在你可以向表单输入数据，并提交，如下演示：
<a data-fancybox="" title="" href="https://www.runoob.com/wp-content/uploads/2015/09/nodejs-gif6.gif"><img src="https://www.runoob.com/wp-content/uploads/2015/09/nodejs-gif6.gif" alt=""></a></p> <h2 id="post-方法"><a href="#post-方法" aria-hidden="true" class="header-anchor">#</a> POST 方法</h2> <p>以下实例演示了在表单中通过 POST 方法提交两个参数，我们可以使用 server.js 文件内的 process_post 路由器来处理输入：</p> <p>index.htm 文件代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;html&gt;
&lt;body&gt;
&lt;form action=&quot;http://127.0.0.1:8081/process_post&quot; method=&quot;POST&quot;&gt;
First Name: &lt;input type=&quot;text&quot; name=&quot;first_name&quot;&gt;  &lt;br&gt;
 
Last Name: &lt;input type=&quot;text&quot; name=&quot;last_name&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>server.js 文件代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var express = require('express');
var app = express();
var bodyParser = require('body-parser');
 
// 创建 application/x-www-form-urlencoded 编码解析
var urlencodedParser = bodyParser.urlencoded({ extended: false })
 
app.use('/public', express.static('public'));
 
app.get('/index.htm', function (req, res) {
   res.sendFile( __dirname + &quot;/&quot; + &quot;index.htm&quot; );
})
 
app.post('/process_post', urlencodedParser, function (req, res) {
 
   // 输出 JSON 格式
   var response = {
       &quot;first_name&quot;:req.body.first_name,
       &quot;last_name&quot;:req.body.last_name
   };
   console.log(response);
   res.end(JSON.stringify(response));
})
 
var server = app.listen(8081, function () {
 
  var host = server.address().address
  var port = server.address().port
 
  console.log(&quot;应用实例，访问地址为 http://%s:%s&quot;, host, port)
 
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>执行以上代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ node server.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>应用实例，访问地址为 http://0.0.0.0:8081
浏览器访问 http://127.0.0.1:8081/index.htm，如图所示：</p> <p><a data-fancybox="" title="" href="https://www.runoob.com/wp-content/uploads/2015/09/express5.jpg"><img src="https://www.runoob.com/wp-content/uploads/2015/09/express5.jpg" alt=""></a>
现在你可以向表单输入数据，并提交，如下演示：</p> <p><a data-fancybox="" title="" href="https://www.runoob.com/wp-content/uploads/2015/09/nodejs-gif7.gif"><img src="https://www.runoob.com/wp-content/uploads/2015/09/nodejs-gif7.gif" alt=""></a></p> <h2 id="文件上传"><a href="#文件上传" aria-hidden="true" class="header-anchor">#</a> 文件上传</h2> <p>以下我们创建一个用于上传文件的表单，使用 POST 方法，表单 enctype 属性设置为 multipart/form-data。</p> <p>index.htm 文件代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;html&gt;
&lt;head&gt;
&lt;title&gt;文件上传表单&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h3&gt;文件上传：&lt;/h3&gt;
选择一个文件上传: &lt;br /&gt;
&lt;form action=&quot;/file_upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
&lt;input type=&quot;file&quot; name=&quot;image&quot; size=&quot;50&quot; /&gt;
&lt;br /&gt;
&lt;input type=&quot;submit&quot; value=&quot;上传文件&quot; /&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>server.js 文件代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var express = require('express');
var app = express();
var fs = require(&quot;fs&quot;);
 
var bodyParser = require('body-parser');
var multer  = require('multer');
 
app.use('/public', express.static('public'));
app.use(bodyParser.urlencoded({ extended: false }));
app.use(multer({ dest: '/tmp/'}).array('image'));
 
app.get('/index.htm', function (req, res) {
   res.sendFile( __dirname + &quot;/&quot; + &quot;index.htm&quot; );
})
 
app.post('/file_upload', function (req, res) {
 
   console.log(req.files[0]);  // 上传的文件信息
 
   var des_file = __dirname + &quot;/&quot; + req.files[0].originalname;
   fs.readFile( req.files[0].path, function (err, data) {
        fs.writeFile(des_file, data, function (err) {
         if( err ){
              console.log( err );
         }else{
               response = {
                   message:'File uploaded successfully', 
                   filename:req.files[0].originalname
              };
          }
          console.log( response );
          res.end( JSON.stringify( response ) );
       });
   });
})
 
var server = app.listen(8081, function () {
 
  var host = server.address().address
  var port = server.address().port
 
  console.log(&quot;应用实例，访问地址为 http://%s:%s&quot;, host, port)
 
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p>执行以上代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ node server.js 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>应用实例，访问地址为 http://0.0.0.0:8081
浏览器访问 http://127.0.0.1:8081/index.htm，如图所示：</p> <p><a data-fancybox="" title="" href="https://www.runoob.com/wp-content/uploads/2015/09/express6.jpg"><img src="https://www.runoob.com/wp-content/uploads/2015/09/express6.jpg" alt=""></a>
现在你可以向表单输入数据，并提交，如下演示：
<a data-fancybox="" title="" href="https://www.runoob.com/wp-content/uploads/2015/09/nodejs-gif8.gif"><img src="https://www.runoob.com/wp-content/uploads/2015/09/nodejs-gif8.gif" alt=""></a></p> <h2 id="cookie-管理"><a href="#cookie-管理" aria-hidden="true" class="header-anchor">#</a> Cookie 管理</h2> <p>我们可以使用中间件向 Node.js 服务器发送 cookie 信息，以下代码输出了客户端发送的 cookie 信息：</p> <p>express_cookie.js 文件代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// express_cookie.js 文件
var express      = require('express')
var cookieParser = require('cookie-parser')
var util = require('util');
 
var app = express()
app.use(cookieParser())
 
app.get('/', function(req, res) {
    console.log(&quot;Cookies: &quot; + util.inspect(req.cookies));
})
 
app.listen(8081)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>执行以上代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ node express_cookie.js 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="express脚手架"><a href="#express脚手架" aria-hidden="true" class="header-anchor">#</a> express脚手架</h2> <p>Express 应用程序生成器
通过应用生成器工具 express-generator 可以快速创建一个应用的骨架。</p> <p>express-generator 包含了 express 命令行工具。通过如下命令即可安装：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ npm install express-generator -g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>-h 参数可以列出所有可用的命令行参数：

$ express -h

  Usage: express [options] [dir]

  Options:

    -h, --help          输出使用方法
        --version       输出版本号
    -e, --ejs           添加对 ejs 模板引擎的支持
        --hbs           添加对 handlebars 模板引擎的支持
        --pug           添加对 pug 模板引擎的支持
    -H, --hogan         添加对 hogan.js 模板引擎的支持
        --no-view       创建不带视图引擎的项目
    -v, --view &lt;engine&gt; 添加对视图引擎（view） &lt;engine&gt; 的支持 (ejs|hbs|hjs|jade|pug|twig|vash) （默认是 jade 模板引擎）
    -c, --css &lt;engine&gt;  添加样式表引擎 &lt;engine&gt; 的支持 (less|stylus|compass|sass) （默认是普通的 css 文件）
        --git           添加 .gitignore
    -f, --force         强制在非空目录下创建
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>例如，如下命令创建了一个名称为 myapp 的 Express 应用。此应用将在当前目录下的 myapp 目录中创建，并且设置为使用 Pug 模板引擎（view engine）：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ express --view=pug myapp

   create : myapp
   create : myapp/package.json
   create : myapp/app.js
   create : myapp/public
   create : myapp/public/javascripts
   create : myapp/public/images
   create : myapp/routes
   create : myapp/routes/index.js
   create : myapp/routes/users.js
   create : myapp/public/stylesheets
   create : myapp/public/stylesheets/style.css
   create : myapp/views
   create : myapp/views/index.pug
   create : myapp/views/layout.pug
   create : myapp/views/error.pug
   create : myapp/bin
   create : myapp/bin/www
然后安装所有依赖包：

$ cd myapp
$ npm install
在 MacOS 或 Linux 中，通过如下命令启动此应用：

$ DEBUG=myapp:* npm start
在 Windows 中，通过如下命令启动此应用：
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><blockquote><p>set DEBUG=myapp:* &amp; npm start
然后在浏览器中打开 http://localhost:3000/ 网址就可以看到这个应用了。</p></blockquote> <p>通过生成器创建的应用一般都有如下目录结构：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>.
├── app.js
├── bin
│   └── www
├── package.json
├── public
│   ├── images
│   ├── javascripts
│   └── stylesheets
│       └── style.css
├── routes
│   ├── index.js
│   └── users.js
└── views
    ├── error.pug
    ├── index.pug
    └── layout.pug

7 directories, 9 files
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="总结"><a href="#总结" aria-hidden="true" class="header-anchor">#</a> 总结</h2> <p>express中间件是顺序执行，冲第一个中间件执行到最后一个中间件，发起响应。如下图
<a data-fancybox="" title="" href="https://colastar.github.io/static/images/express顺序.png"><img src="https://colastar.github.io/static/images/express%E9%A1%BA%E5%BA%8F.png" alt=""></a></p> <p>在以上express介绍中只是入门的一些知识，更多api的可以前往<a href="http://www.expressjs.com.cn/4x/api.html" target="_blank" rel="noopener noreferrer">官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>查看</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/15/2020, 5:02:25 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blogs/views/node/express/middleware.html">
          express中间件
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blogs/views/assets/js/app.13e20456.js" defer></script><script src="/blogs/views/assets/js/2.d340cefd.js" defer></script><script src="/blogs/views/assets/js/111.ed8922bf.js" defer></script>
  </body>
</html>
