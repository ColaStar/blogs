<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>gulp | 个人博客</title>
    <meta name="description" content="可怜楼上月徘徊，应照离人妆镜台。">
    <link rel="icon" href="https://colastar.github.io/blogs/views/images/favicon.ico">
  <link rel="manifest" href="https://colastar.github.io/blogs/views/js/manifest.json">
  <link rel="apple-touch-icon" href="https://colastar.github.io/blogs/views/images/logo.png">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://colastar.github.io/blogs/views/js/tj.js"></script>
  <script src="https://colastar.github.io/blogs/views/js/code.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    
    <link rel="preload" href="/blogs/views/assets/css/0.styles.16aae78f.css" as="style"><link rel="preload" href="/blogs/views/assets/js/app.8050140c.js" as="script"><link rel="preload" href="/blogs/views/assets/js/2.d340cefd.js" as="script"><link rel="preload" href="/blogs/views/assets/js/58.39fed49d.js" as="script"><link rel="prefetch" href="/blogs/views/assets/js/10.1a72f1e6.js"><link rel="prefetch" href="/blogs/views/assets/js/100.7dd0f6ca.js"><link rel="prefetch" href="/blogs/views/assets/js/101.5b38a6b8.js"><link rel="prefetch" href="/blogs/views/assets/js/102.d4d6e327.js"><link rel="prefetch" href="/blogs/views/assets/js/103.a185cc2b.js"><link rel="prefetch" href="/blogs/views/assets/js/104.0d44dac3.js"><link rel="prefetch" href="/blogs/views/assets/js/105.0eeac3a3.js"><link rel="prefetch" href="/blogs/views/assets/js/106.968090cd.js"><link rel="prefetch" href="/blogs/views/assets/js/107.874eba85.js"><link rel="prefetch" href="/blogs/views/assets/js/108.c2614d02.js"><link rel="prefetch" href="/blogs/views/assets/js/109.82fcb80b.js"><link rel="prefetch" href="/blogs/views/assets/js/11.1b8006ad.js"><link rel="prefetch" href="/blogs/views/assets/js/110.f68276ee.js"><link rel="prefetch" href="/blogs/views/assets/js/111.ed8922bf.js"><link rel="prefetch" href="/blogs/views/assets/js/112.b69f3a64.js"><link rel="prefetch" href="/blogs/views/assets/js/113.cf77d521.js"><link rel="prefetch" href="/blogs/views/assets/js/114.231ccb47.js"><link rel="prefetch" href="/blogs/views/assets/js/115.577374e7.js"><link rel="prefetch" href="/blogs/views/assets/js/116.a1046a05.js"><link rel="prefetch" href="/blogs/views/assets/js/117.81b0677b.js"><link rel="prefetch" href="/blogs/views/assets/js/118.32428e42.js"><link rel="prefetch" href="/blogs/views/assets/js/119.eb7e00e0.js"><link rel="prefetch" href="/blogs/views/assets/js/12.053a299a.js"><link rel="prefetch" href="/blogs/views/assets/js/120.60dba0d2.js"><link rel="prefetch" href="/blogs/views/assets/js/121.60317bf1.js"><link rel="prefetch" href="/blogs/views/assets/js/122.1f01e615.js"><link rel="prefetch" href="/blogs/views/assets/js/123.9b9154aa.js"><link rel="prefetch" href="/blogs/views/assets/js/124.3b0e141e.js"><link rel="prefetch" href="/blogs/views/assets/js/125.4403af67.js"><link rel="prefetch" href="/blogs/views/assets/js/126.50f00f88.js"><link rel="prefetch" href="/blogs/views/assets/js/127.9c744cd3.js"><link rel="prefetch" href="/blogs/views/assets/js/128.e884999f.js"><link rel="prefetch" href="/blogs/views/assets/js/129.a3c6b20f.js"><link rel="prefetch" href="/blogs/views/assets/js/13.d950da5e.js"><link rel="prefetch" href="/blogs/views/assets/js/130.d6342e66.js"><link rel="prefetch" href="/blogs/views/assets/js/131.eea09277.js"><link rel="prefetch" href="/blogs/views/assets/js/132.dc893195.js"><link rel="prefetch" href="/blogs/views/assets/js/133.865f308e.js"><link rel="prefetch" href="/blogs/views/assets/js/134.76675d93.js"><link rel="prefetch" href="/blogs/views/assets/js/135.59844b5e.js"><link rel="prefetch" href="/blogs/views/assets/js/136.7cdb65b2.js"><link rel="prefetch" href="/blogs/views/assets/js/137.799a876e.js"><link rel="prefetch" href="/blogs/views/assets/js/138.b9c69e1b.js"><link rel="prefetch" href="/blogs/views/assets/js/139.4d66ba94.js"><link rel="prefetch" href="/blogs/views/assets/js/14.64a2044f.js"><link rel="prefetch" href="/blogs/views/assets/js/140.af0e5ed1.js"><link rel="prefetch" href="/blogs/views/assets/js/141.51149e45.js"><link rel="prefetch" href="/blogs/views/assets/js/142.582270b8.js"><link rel="prefetch" href="/blogs/views/assets/js/143.7d018666.js"><link rel="prefetch" href="/blogs/views/assets/js/15.a21c9fa9.js"><link rel="prefetch" href="/blogs/views/assets/js/16.755c8a00.js"><link rel="prefetch" href="/blogs/views/assets/js/17.5242c43f.js"><link rel="prefetch" href="/blogs/views/assets/js/18.9417f252.js"><link rel="prefetch" href="/blogs/views/assets/js/19.cb90520d.js"><link rel="prefetch" href="/blogs/views/assets/js/20.ec4b0a60.js"><link rel="prefetch" href="/blogs/views/assets/js/21.6a593d10.js"><link rel="prefetch" href="/blogs/views/assets/js/22.1ceea7e3.js"><link rel="prefetch" href="/blogs/views/assets/js/23.748bc1f0.js"><link rel="prefetch" href="/blogs/views/assets/js/24.80b9ce78.js"><link rel="prefetch" href="/blogs/views/assets/js/25.f98c9b0e.js"><link rel="prefetch" href="/blogs/views/assets/js/26.807690a3.js"><link rel="prefetch" href="/blogs/views/assets/js/27.87afafd7.js"><link rel="prefetch" href="/blogs/views/assets/js/28.d53e649a.js"><link rel="prefetch" href="/blogs/views/assets/js/29.bd2c2726.js"><link rel="prefetch" href="/blogs/views/assets/js/3.d1743aad.js"><link rel="prefetch" href="/blogs/views/assets/js/30.c06a5b7a.js"><link rel="prefetch" href="/blogs/views/assets/js/31.0699d199.js"><link rel="prefetch" href="/blogs/views/assets/js/32.6ffac1aa.js"><link rel="prefetch" href="/blogs/views/assets/js/33.1695ddf9.js"><link rel="prefetch" href="/blogs/views/assets/js/34.a3a9f189.js"><link rel="prefetch" href="/blogs/views/assets/js/35.fdf85b51.js"><link rel="prefetch" href="/blogs/views/assets/js/36.ade93422.js"><link rel="prefetch" href="/blogs/views/assets/js/37.b4ede68b.js"><link rel="prefetch" href="/blogs/views/assets/js/38.2bdd656f.js"><link rel="prefetch" href="/blogs/views/assets/js/39.f1a9a8e9.js"><link rel="prefetch" href="/blogs/views/assets/js/4.4e0deb20.js"><link rel="prefetch" href="/blogs/views/assets/js/40.4668d736.js"><link rel="prefetch" href="/blogs/views/assets/js/41.405fb6b6.js"><link rel="prefetch" href="/blogs/views/assets/js/42.1bda99d9.js"><link rel="prefetch" href="/blogs/views/assets/js/43.c68d17a4.js"><link rel="prefetch" href="/blogs/views/assets/js/44.72e862f0.js"><link rel="prefetch" href="/blogs/views/assets/js/45.45b9f29c.js"><link rel="prefetch" href="/blogs/views/assets/js/46.1e768306.js"><link rel="prefetch" href="/blogs/views/assets/js/47.3fd7d93b.js"><link rel="prefetch" href="/blogs/views/assets/js/48.87171901.js"><link rel="prefetch" href="/blogs/views/assets/js/49.96cf687d.js"><link rel="prefetch" href="/blogs/views/assets/js/5.829db2fd.js"><link rel="prefetch" href="/blogs/views/assets/js/50.16133866.js"><link rel="prefetch" href="/blogs/views/assets/js/51.3980d2db.js"><link rel="prefetch" href="/blogs/views/assets/js/52.44143685.js"><link rel="prefetch" href="/blogs/views/assets/js/53.9305f94d.js"><link rel="prefetch" href="/blogs/views/assets/js/54.94f2c26b.js"><link rel="prefetch" href="/blogs/views/assets/js/55.be684606.js"><link rel="prefetch" href="/blogs/views/assets/js/56.e471bc3a.js"><link rel="prefetch" href="/blogs/views/assets/js/57.06090e06.js"><link rel="prefetch" href="/blogs/views/assets/js/59.455b80b9.js"><link rel="prefetch" href="/blogs/views/assets/js/6.9b4144c4.js"><link rel="prefetch" href="/blogs/views/assets/js/60.b69b0d71.js"><link rel="prefetch" href="/blogs/views/assets/js/61.1b7d7ba1.js"><link rel="prefetch" href="/blogs/views/assets/js/62.99f52cbf.js"><link rel="prefetch" href="/blogs/views/assets/js/63.4ebd23d6.js"><link rel="prefetch" href="/blogs/views/assets/js/64.076fb2d7.js"><link rel="prefetch" href="/blogs/views/assets/js/65.a77ff8df.js"><link rel="prefetch" href="/blogs/views/assets/js/66.c47af622.js"><link rel="prefetch" href="/blogs/views/assets/js/67.2c379945.js"><link rel="prefetch" href="/blogs/views/assets/js/68.92a830cd.js"><link rel="prefetch" href="/blogs/views/assets/js/69.45e059df.js"><link rel="prefetch" href="/blogs/views/assets/js/7.5dd94ae7.js"><link rel="prefetch" href="/blogs/views/assets/js/70.81c48453.js"><link rel="prefetch" href="/blogs/views/assets/js/71.72192f41.js"><link rel="prefetch" href="/blogs/views/assets/js/72.21d87c42.js"><link rel="prefetch" href="/blogs/views/assets/js/73.0f6b1978.js"><link rel="prefetch" href="/blogs/views/assets/js/74.515cab07.js"><link rel="prefetch" href="/blogs/views/assets/js/75.ae0f2492.js"><link rel="prefetch" href="/blogs/views/assets/js/76.6d3111ea.js"><link rel="prefetch" href="/blogs/views/assets/js/77.228de8e4.js"><link rel="prefetch" href="/blogs/views/assets/js/78.9bbc784b.js"><link rel="prefetch" href="/blogs/views/assets/js/79.717c6deb.js"><link rel="prefetch" href="/blogs/views/assets/js/8.666747ee.js"><link rel="prefetch" href="/blogs/views/assets/js/80.39dc430f.js"><link rel="prefetch" href="/blogs/views/assets/js/81.455cc06d.js"><link rel="prefetch" href="/blogs/views/assets/js/82.f13ee68f.js"><link rel="prefetch" href="/blogs/views/assets/js/83.6e21b82b.js"><link rel="prefetch" href="/blogs/views/assets/js/84.e9af022e.js"><link rel="prefetch" href="/blogs/views/assets/js/85.33eaebce.js"><link rel="prefetch" href="/blogs/views/assets/js/86.53f270d3.js"><link rel="prefetch" href="/blogs/views/assets/js/87.f240f80f.js"><link rel="prefetch" href="/blogs/views/assets/js/88.f6e600df.js"><link rel="prefetch" href="/blogs/views/assets/js/89.6a596777.js"><link rel="prefetch" href="/blogs/views/assets/js/9.35b5ddca.js"><link rel="prefetch" href="/blogs/views/assets/js/90.346c1af5.js"><link rel="prefetch" href="/blogs/views/assets/js/91.7ec1aaac.js"><link rel="prefetch" href="/blogs/views/assets/js/92.e4c218c8.js"><link rel="prefetch" href="/blogs/views/assets/js/93.1ee6abf1.js"><link rel="prefetch" href="/blogs/views/assets/js/94.5c8a85e3.js"><link rel="prefetch" href="/blogs/views/assets/js/95.d8e49d1a.js"><link rel="prefetch" href="/blogs/views/assets/js/96.d2f599f4.js"><link rel="prefetch" href="/blogs/views/assets/js/97.b572f854.js"><link rel="prefetch" href="/blogs/views/assets/js/98.bb7dc460.js"><link rel="prefetch" href="/blogs/views/assets/js/99.22abeebf.js">
    <link rel="stylesheet" href="/blogs/views/assets/css/0.styles.16aae78f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/views/" class="home-link router-link-active"><!----> <span class="site-name">个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs/views/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/views/no.0/js/es6.html" class="nav-link">前端基础</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/javascript-QA/javascriptqa.html" class="nav-link">javaScript与测试工程师</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.1/函数式编程/函数式编程.html" class="nav-link">编程相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.2/http.html" class="nav-link">网络</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.3/webpack.html" class="nav-link">前端自动化</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.4/前端性能优化.html" class="nav-link">前端优化</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.5/css工作流.html" class="nav-link">css相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.6/react/react.html" class="nav-link">框架相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.7/计算机组成原理.html" class="nav-link">计算机组成原理</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.8/数据结构与算法.html" class="nav-link">数据结构与算法</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/node/node/node.html" class="nav-link">node相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.10/网络安全.html" class="nav-link">网络安全</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/other/git/git命令全集.html" class="nav-link">其他相关</a></li></ul></div></div><div class="nav-item"><a href="/blogs/views/no.1/" class="nav-link">面试</a></div><div class="nav-item"><a href="https://github.com/ColaStar/blogs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blogs/views/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/views/no.0/js/es6.html" class="nav-link">前端基础</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/javascript-QA/javascriptqa.html" class="nav-link">javaScript与测试工程师</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.1/函数式编程/函数式编程.html" class="nav-link">编程相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.2/http.html" class="nav-link">网络</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.3/webpack.html" class="nav-link">前端自动化</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.4/前端性能优化.html" class="nav-link">前端优化</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.5/css工作流.html" class="nav-link">css相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.6/react/react.html" class="nav-link">框架相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.7/计算机组成原理.html" class="nav-link">计算机组成原理</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.8/数据结构与算法.html" class="nav-link">数据结构与算法</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/node/node/node.html" class="nav-link">node相关</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/no.10/网络安全.html" class="nav-link">网络安全</a></li><li class="dropdown-item"><!----> <a href="/blogs/views/other/git/git命令全集.html" class="nav-link">其他相关</a></li></ul></div></div><div class="nav-item"><a href="/blogs/views/no.1/" class="nav-link">面试</a></div><div class="nav-item"><a href="https://github.com/ColaStar/blogs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blogs/views/no.3/bower.html" class="sidebar-link">bower</a></li><li><a href="/blogs/views/no.3/browserify.html" class="sidebar-link">Browserify</a></li><li><a href="/blogs/views/no.3/commojs-vs-es6module.html" class="sidebar-link">模块规范对比</a></li><li><a href="/blogs/views/no.3/grunt.html" class="sidebar-link">grunt</a></li><li><a href="/blogs/views/no.3/gulp.html" class="active sidebar-link">gulp</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#gulp简介" class="sidebar-link">gulp简介</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#作用" class="sidebar-link">作用</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#应用" class="sidebar-link">应用</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#api" class="sidebar-link">API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#src" class="sidebar-link">src</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#dest" class="sidebar-link">dest</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#symlink" class="sidebar-link">symlink</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#lastrun" class="sidebar-link">lastRun</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#series" class="sidebar-link">series</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#parallel" class="sidebar-link">parallel</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#watch" class="sidebar-link">watch</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#task" class="sidebar-link">task</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#registry" class="sidebar-link">registry</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#tree" class="sidebar-link">tree</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#vinyl" class="sidebar-link">Vinyl</a></li></ul></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#一些常用的插件" class="sidebar-link">一些常用的插件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#匹配符-、-、！、" class="sidebar-link">匹配符 、*、！、{}</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#文件操作" class="sidebar-link">文件操作</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#压缩" class="sidebar-link">压缩</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#流控制" class="sidebar-link">流控制</a></li><li class="sidebar-sub-header"><a href="/blogs/views/no.3/gulp.html#工具" class="sidebar-link">工具</a></li></ul></li></ul></li><li><a href="/blogs/views/no.3/jenkins.html" class="sidebar-link">jenkins</a></li><li><a href="/blogs/views/no.3/linux_sed_awk.html" class="sidebar-link">sed与awk</a></li><li><a href="/blogs/views/no.3/linux防火墙.html" class="sidebar-link">linux防火墙</a></li><li><a href="/blogs/views/no.3/nginx-error.html" class="sidebar-link">centos错误集合</a></li><li><a href="/blogs/views/no.3/parcel.html" class="sidebar-link">parcel</a></li><li><a href="/blogs/views/no.3/pm2指南.html" class="sidebar-link">PM2</a></li><li><a href="/blogs/views/no.3/rollup.html" class="sidebar-link">rollup</a></li><li><a href="/blogs/views/no.3/webpack.html" class="sidebar-link">webpack</a></li><li><a href="/blogs/views/no.3/yeoman.html" class="sidebar-link">yeoman</a></li><li><a href="/blogs/views/no.3/免密登陆.html" class="sidebar-link">免密登陆</a></li><li><a href="/blogs/views/no.3/文件操作权限.html" class="sidebar-link">Linux权限</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="gulp"><a href="#gulp" aria-hidden="true" class="header-anchor">#</a> gulp</h1> <p><strong>Table of Contents</strong> <em>generated with <a href="https://github.com/thlorenz/doctoc" target="_blank" rel="noopener noreferrer">DocToc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em></p> <ul><li><a href="#gulp">gulp</a> <ul><li><a href="#gulp%E7%AE%80%E4%BB%8B">gulp简介</a></li> <li><a href="#%E5%AE%89%E8%A3%85">安装</a></li> <li><a href="#%E4%BD%9C%E7%94%A8">作用</a></li> <li><a href="#%E5%BA%94%E7%94%A8">应用</a></li> <li><a href="#api">API</a> <ul><li><a href="#src">src</a></li> <li><a href="#symlink">symlink</a></li> <li><a href="#lastrun">lastRun</a></li> <li><a href="#series">series</a></li></ul></li></ul></li></ul> <h2 id="gulp简介"><a href="#gulp简介" aria-hidden="true" class="header-anchor">#</a> gulp简介</h2> <p><a data-fancybox="" title="" href="https://colastar.github.io/static/images/gulp.jpg"><img src="https://colastar.github.io/static/images/gulp.jpg" alt=""></a>
官网介绍gulp是一个流构建系统（The streaming build system）</p> <p>gulp是前端开发过程中对代码进行构建的工具，是自动化项目的构建利器；她不仅能对网站资源进行优化，而且在开发过程中很多重复的任务能够使用正确的工具自动完成；使用它，我们不仅可以很愉快的编写代码，而且大大提高我们的工作效率。</p> <p>gulp是基于Nodejs的自动任务运行器， 她能自动化地完成 <code>javascript/coffee/sass/less/html/image/css</code> 等文件的的测试、检查、合并、压缩、格式化、浏览器自动刷新、部署文件生成，并监听文件在改动后重复指定的这些步骤。在实现上，她借鉴了Unix操作系统的管道（pipe）思想，前一级的输出，直接变成后一级的输入，使得在操作上非常简单。</p> <p>gulp 和 grunt 非常类似，但相比于 grunt 的频繁 IO 操作，gulp 的流操作，能更快地更便捷地完成构建工作。</p> <p>gulp常用地址：</p> <p>gulp官方网址：http://gulpjs.com</p> <p>gulp插件地址：http://gulpjs.com/plugins</p> <p>gulp 官方API：https://github.com/gulpjs/gulp/tree/master/docs/api</p> <p>gulp 中文API：http://www.ydcss.com/archives/424</p> <h2 id="安装"><a href="#安装" aria-hidden="true" class="header-anchor">#</a> 安装</h2> <p>步骤一：以全局方式安装gulp,执行gulp任务</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install -g gulp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>步骤二：把gulp安装在本地,调用插件的功能</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install --save-dev gulp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="作用"><a href="#作用" aria-hidden="true" class="header-anchor">#</a> 作用</h2> <ul><li>Sass/less编译</li> <li>Css Js 图片压缩</li> <li>Css Js 合并</li> <li>Css Js 内联</li> <li>Html的include功能</li> <li>Autoprefixer</li> <li>自动刷新</li> <li>去缓存</li> <li>Handlebars模板文件的预编译</li> <li>雪碧图</li> <li>ESLint rem移动端适配方案</li></ul> <p>gulp有很多插件可以做到你想做的事情,插件<a href="http://gulpjs.com/plugins" target="_blank" rel="noopener noreferrer">地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="应用"><a href="#应用" aria-hidden="true" class="header-anchor">#</a> 应用</h2> <p>安装了gulp以后你需要在你的文件夹里边创建一个gulpfile.js文件，它是gulp的配置文件。在这里边你可以创建你要创建的任务，以及应用各种插件，相当于webpack的webpack.config.js</p> <p>大概就是这样的一份文件</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//导入工具包 require('node_modules里对应模块')
var gulp = require('gulp'), //本地安装gulp所用到的地方
    concat = require('gulp-concat'),//合并文件 --合并只是放一起--压缩才会真正合并相同样式
    less = require('gulp-less'),//编译less文件
    cssmin = require('gulp-minify-css'),//压缩css文件
    rename = require('gulp-rename'),//设置压缩后的文件名
    autoprefixer = require('gulp-autoprefixer'),//给 CSS 增加前缀。解决某些CSS属性不是标准属性，有各种浏览器前缀的情况
    imagemin = require('gulp-imagemin'),  //图片压缩
    spriter=require('gulp-css-spriter');//合并图片

//编译less文件   定义一个testLess任务（自定义任务名称）
gulp.task('testLess', function () {
    gulp.src('src/less/index.less') //该任务针对的文件
        .pipe(less()) //该任务调用的模块
        .pipe(gulp.dest('src/css')); //将会在src/css下生成index.css
});

//压缩css文件
gulp.task('minifycss', function() {
    gulp.src('src/css/index.css')      //压缩的文件
        .pipe(cssmin())   //执行压缩
        .pipe(gulp.dest('src/cssmin'))   //输出文件夹
});

gulp.task('default',['testLess','minifycss'],function(){//定义默认任务  先执行testLess和minifycss 再执行console.log('hello world');
    console.log('hello world');
}); 

//gulp.task(name[, deps], fn) 定义任务  name：任务名称 deps：依赖任务名称 fn：回调函数
//gulp.src(globs[, options]) 执行任务处理的文件  globs：处理的文件路径(字符串或者字符串数组) 
//gulp.dest(path[, options]) 处理完后文件生成路径
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="api"><a href="#api" aria-hidden="true" class="header-anchor">#</a> <a href="https://github.com/gulpjs/gulp/tree/master/docs/api" target="_blank" rel="noopener noreferrer">API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <h3 id="src"><a href="#src" aria-hidden="true" class="header-anchor">#</a> src</h3> <p>src用于创建一个流用于读取文件系统里的文件对象</p> <blockquote><p>语法</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>src(globs, [options])
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>globs</code>：是用来监控或者找到文件
<code>options</code>:是你要对你监控文件做的一些事情具</p> <h3 id="dest"><a href="#dest" aria-hidden="true" class="header-anchor">#</a> dest</h3> <p>dest 用于创建一个将文件对象写入文件系统的流，他是一个可以在管道的中间或末尾使用的流</p> <blockquote><p>语法</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>dest(directory, [options])
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>directory</code>:将写入文件的输出目录的路径。如果使用函数，将使用每个Vinyl对象调用该函数，并且必须返回字符串目录路径。</p> <p><code>options</code>:是你要对你写入文件要做的事情</p> <h3 id="symlink"><a href="#symlink" aria-hidden="true" class="header-anchor">#</a> symlink</h3> <p>symlink 创建用于将Vinyl对象链接到文件系统的流。就是一个符号链接，即其实就是linux里的软连接，就是副本，但是当删除源文件时，软连接文件也会被删除。</p> <blockquote><p>语法</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>symlink(directory, [options])
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>directory</code>:输出目录的路径，其中将创建符号链接。如果使用函数，将使用每个Vinyl对象调用该函数，并且必须返回字符串目录路径。
<code>options</code>:是你要对你输出目录设置的选项。</p> <h3 id="lastrun"><a href="#lastrun" aria-hidden="true" class="header-anchor">#</a> lastRun</h3> <p>检索在当前运行过程中上次成功完成任务的时间。在观察程序运行时，对后续任务运行最有用。</p> <p>与之结合使用时src()，通过跳过自上次成功完成任务以来未发生更改的文件，启用增量构建以加快执行时间。</p> <p>用法：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const { src, dest, lastRun, watch } = require('gulp');
const imagemin = require('gulp-imagemin');

function images() {
  return src('src/images/**/*.jpg', { since: lastRun(images) })
    .pipe(imagemin())
    .pipe(dest('build/img/'));
}

function watch() {
  watch('src/images/**/*.jpg', images);
}

exports.watch = watch;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>语法</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>lastRun(task, [precision])
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>task</code>:任务函数或已注册任务的字符串别名。</p> <p><code>precision</code>:时间戳精度，默认值：1000</p> <h3 id="series"><a href="#series" aria-hidden="true" class="header-anchor">#</a> series</h3> <p>将任务函数和/或组合操作组合成更大的操作，这些操作将<code>按顺序依次执行</code>。使用series()和组合操作的嵌套深度没有强制限制parallel()。</p> <blockquote><p>语法</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>series(...tasks)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>...task</code>:任意数量的任务函数都可以作为单独的参数传递。如果您之前已注册任务，则可以使用字符串，但不建议这样做。</p> <blockquote><p>用法：</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>const { series } = require('gulp');

function javascript(cb) {
  // body omitted
  cb();//相当于回调：官网是这么介绍的应该由一些异步工作调用
}

function css(cb) {
  // body omitted
  cb();
}

exports.build = series(javascript, css);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="parallel"><a href="#parallel" aria-hidden="true" class="header-anchor">#</a> parallel</h3> <p>将任务函数和/或组合操作组合成将<code>同时执行</code>的更大操作。使用series()和组合操作的嵌套深度没有强制限制parallel()</p> <blockquote><p>语法</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>parallel(...tasks)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>...task</code>:任意数量的任务函数都可以作为单独的参数传递。如果您之前已注册任务，则可以使用字符串，但不建议这样做。</p> <h3 id="watch"><a href="#watch" aria-hidden="true" class="header-anchor">#</a> watch</h3> <p>允许在发生更改时观看全局并运行任务。任务与任务系统的其余部分统一处理。</p> <blockquote><p>语法：</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>watch(globs, [options], [task])
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>参数</p></blockquote> <p><code>globs</code>:需要被监控的文件</p> <p><code>options</code>:控制监控的选项
<code>task</code>:需要被监控的任务</p> <blockquote><p>用法</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>const { watch } = require('gulp');

const watcher = watch(['input/*.js']);

watcher.on('change', function(path, stats) {
  console.log(`File ${path} was changed`);
});

watcher.on('add', function(path, stats) {
  console.log(`File ${path} was added`);
});

watcher.on('unlink', function(path, stats) {
  console.log(`File ${path} was removed`);
});

watcher.close();//关闭监控
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="task"><a href="#task" aria-hidden="true" class="header-anchor">#</a> task</h3> <p>定义任务系统中的任务。任务然后可以通过命令行和访问series()，parallel()以及lastRun()API的。</p> <blockquote><p>语法</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>task([taskName], taskFunction)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>参数</p> <p><code>taskName</code>：任务名称</p> <p><code>taskFunction</code>: 一个任务功能或组成的工作-通过产生series()和parallel()。理想情况下是命名函数。可以附加任务元数据以向命令行提供额外信息。</p> <blockquote><p>用法：</p></blockquote> <p>将命名函数注册为任务：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const { task } = require('gulp');

function build(cb) {
  // body omitted
  cb();
}

task(build);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>将匿名函数注册为任务：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const { task } = require('gulp');

task('build', function(cb) {
  // body omitted
  cb();
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>检索先前已注册的任务：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const { task } = require('gulp');

task('build', function(cb) {
  // body omitted
  cb();
});

const build = task('build');`
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="registry"><a href="#registry" aria-hidden="true" class="header-anchor">#</a> registry</h3> <p>允许将自定义注册表插入任务系统，该任务系统可以提供共享任务或增强功能。</p> <p>未测试（后续更新）</p> <h3 id="tree"><a href="#tree" aria-hidden="true" class="header-anchor">#</a> tree</h3> <p>获取当前任务依赖关系树 - 在极少数情况下需要它。</p> <p>通常，tree()gulp使用者不会使用它，但它是暴露的，因此CLI可以显示gulpfile中定义的任务的依赖关系图</p> <h3 id="vinyl"><a href="#vinyl" aria-hidden="true" class="header-anchor">#</a> Vinyl</h3> <p>虚拟文件格式。读取文件时src()，会生成Vinyl对象来表示文件 - 包括路径，内容和其他元数据。</p> <p>Vinyl对象可以使用插件进行转换。它们也可以使用持久化到文件系统dest()。</p> <p>创建自己的Vinyl对象时src()- 使用外部vinyl模块而不是生成- 如下面的用法所示。</p> <blockquote><p>用法</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>const Vinyl = require('vinyl');

const file = new Vinyl({
  cwd: '/',
  base: '/test/',
  path: '/test/file.js',
  contents: new Buffer('var x = 123')
});

file.relative === 'file.js';

file.dirname === '/test';
file.dirname = '/specs';
file.path === '/specs/file.js';

file.basename === 'file.js';
file.basename = 'file.txt';
file.path === '/specs/file.txt';

file.stem === 'file';
file.stem = 'foo';
file.path === '/specs/foo.txt';
file.extname === '.txt';
file.extname = '.js';
file.path === '/specs/file.js';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="一些常用的插件"><a href="#一些常用的插件" aria-hidden="true" class="header-anchor">#</a> 一些常用的插件</h2> <p>官网的插件太多了，下面就是介绍一些常用的插件，<a href="http://gulpjs.com/plugins" target="_blank" rel="noopener noreferrer">官网插件地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="匹配符-、-、！、"><a href="#匹配符-、-、！、" aria-hidden="true" class="header-anchor">#</a> 匹配符 *、**、！、{}</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>gulp.src('./js/*.js')               // * 匹配js文件夹下所有.js格式的文件
gulp.src('./js/**/*.js')            // ** 匹配js文件夹的0个或多个子文件夹
gulp.src(['./js/*.js','!./js/index.js'])    // ! 匹配除了index.js之外的所有js文件
gulp.src('./js/**/{omui,common}.js')        // {} 匹配{}里的文件名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="文件操作"><a href="#文件操作" aria-hidden="true" class="header-anchor">#</a> 文件操作</h3> <h4 id="del-替代gulp-clean"><a href="#del-替代gulp-clean" aria-hidden="true" class="header-anchor">#</a> del (替代gulp-clean)</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>var del = require('del');

del('./dist');                      // 删除整个dist文件夹
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="gulp-rename"><a href="#gulp-rename" aria-hidden="true" class="header-anchor">#</a> gulp-rename</h4> <p><strong>描述</strong>：重命名文件。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var rename = require(&quot;gulp-rename&quot;);

gulp.src('./hello.txt')
  .pipe(rename('gb/goodbye.md'))    // 直接修改文件名和路径
  .pipe(gulp.dest('./dist')); 
 
gulp.src('./hello.txt')
  .pipe(rename({
    dirname: &quot;text&quot;,                // 路径名
    basename: &quot;goodbye&quot;,            // 主文件名
    prefix: &quot;pre-&quot;,                 // 前缀
    suffix: &quot;-min&quot;,                 // 后缀
    extname: &quot;.html&quot;                // 扩展名
  }))
  .pipe(gulp.dest('./dist'));
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="gulp-concat"><a href="#gulp-concat" aria-hidden="true" class="header-anchor">#</a> gulp-concat</h4> <p><strong>描述</strong>：合并文件。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var concat = require('gulp-concat');

gulp.src('./js/*.js')
    .pipe(concat('all.js'))         // 合并all.js文件
    .pipe(gulp.dest('./dist'));
    
gulp.src(['./js/demo1.js','./js/demo2.js','./js/demo2.js'])
    .pipe(concat('all.js'))         // 按照[]里的顺序合并文件
    .pipe(gulp.dest('./dist'));
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="gulp-filter"><a href="#gulp-filter" aria-hidden="true" class="header-anchor">#</a> gulp-filter</h4> <p><strong>描述</strong>：在虚拟文件流中过滤文件。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var filter = require('gulp-filter');

const f = filter(['**', '!*/index.js']);
gulp.src('js/**/*.js')
    .pipe(f)                        // 过滤掉index.js这个文件
    .pipe(gulp.dest('dist'));

const f1 = filter(['**', '!*/index.js'], {restore: true});
gulp.src('js/**/*.js')
    .pipe(f1)                       // 过滤掉index.js这个文件
    .pipe(uglify())                 // 对其他文件进行压缩
    .pipe(f1.restore)               // 返回到未过滤执行的所有文件
    .pipe(gulp.dest('dist'));       // 再对所有文件操作，包括index.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="压缩"><a href="#压缩" aria-hidden="true" class="header-anchor">#</a> 压缩</h3> <h4 id="gulp-uglify"><a href="#gulp-uglify" aria-hidden="true" class="header-anchor">#</a> gulp-uglify</h4> <p><strong>描述</strong>：压缩js文件大小。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var uglify = require(&quot;gulp-uglify&quot;);

gulp.src('./hello.js')
    .pipe(uglify())                 // 直接压缩hello.js
    .pipe(gulp.dest('./dist'))
    
 gulp.src('./hello.js')
    .pipe(uglify({
        mangle: true,               // 是否修改变量名，默认为 true
        compress: true,             // 是否完全压缩，默认为 true
        preserveComments: 'all'     // 保留所有注释
    }))
    .pipe(gulp.dest('./dist'))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="gulp-csso-gulp-minify-css"><a href="#gulp-csso-gulp-minify-css" aria-hidden="true" class="header-anchor">#</a> gulp-csso | gulp-minify-css</h4> <p><strong>描述</strong>：压缩优化css。</p> <p>var csso = require('gulp-csso');</p> <p>gulp.src('./css/*.css')
.pipe(csso())
.pipe(gulp.dest('./dist/css'))</p> <h4 id="gulp-html-minify"><a href="#gulp-html-minify" aria-hidden="true" class="header-anchor">#</a> gulp-html-minify</h4> <p><strong>描述</strong>：压缩HTML。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var htmlminify = require('gulp-html-minify');

gulp.src('index.html')
    .pipe(htmlminify())
    .pipe(gulp.dest('./dist'))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="gulp-imagemin"><a href="#gulp-imagemin" aria-hidden="true" class="header-anchor">#</a> gulp-imagemin</h4> <p><strong>描述</strong>：压缩图片。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var imagemin = require('gulp-imagemin');

gulp.src('./img/*.{jpg,png,gif,ico}')
    .pipe(imagemin())
    .pipe(gulp.dest('./dist/img'))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="gulp-zip"><a href="#gulp-zip" aria-hidden="true" class="header-anchor">#</a> gulp-zip</h4> <p><strong>描述</strong>：ZIP压缩文件。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var zip = require('gulp-zip');

gulp.src('./src/*')
    .pipe(zip('all.zip'))                   // 压缩成all.zip文件
    .pipe(gulp.dest('./dist'))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="js-css自动注入"><a href="#js-css自动注入" aria-hidden="true" class="header-anchor">#</a> JS/CSS自动注入</h4> <h4 id="gulp-autoprefixer"><a href="#gulp-autoprefixer" aria-hidden="true" class="header-anchor">#</a> gulp-autoprefixer</h4> <p><strong>描述</strong>：自动为css添加浏览器前缀。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var autoprefixer = require('gulp-autoprefixer');

gulp.src('./css/*.css')
    .pipe(autoprefixer())           // 直接添加前缀
    .pipe(gulp.dest('dist'))

gulp.src('./css/*.css')
    .pipe(autoprefixer({
        browsers: ['last 2 versions'],      // 浏览器版本
        cascade：true                       // 美化属性，默认true
        add: true                           // 是否添加前缀，默认true
        remove: true                        // 删除过时前缀，默认true
        flexbox: true                       // 为flexbox属性添加前缀，默认true
    }))
    .pipe(gulp.dest('./dist'))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>查看更多配置：<a href="https://github.com/postcss/autoprefixer#options" target="_blank" rel="noopener noreferrer">options<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>更多浏览器版本：<a href="https://github.com/ai/browserslist#queries" target="_blank" rel="noopener noreferrer">browsers<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="gulp-useref"><a href="#gulp-useref" aria-hidden="true" class="header-anchor">#</a> gulp-useref</h4> <p><strong>描述</strong>：解析构建块在HTML文件来代替引用未经优化的脚本和样式表。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// index.html

&lt;!-- build:css /css/all.css --&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;css/normalize.css&quot;&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;css/main.css&quot;&gt;
&lt;!-- endbuild --&gt;

// gulpfile.js

var useref = require('gulp-useref');

gulp.src('index.html')
    .pipe(useref())
    .pipe(gulp.dest('./dist'))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>替换之后的index.html中就会变成：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;css/all.css&quot;&gt;  // 之前的两个&lt;link&gt;替换成一个了
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="gulp-rev"><a href="#gulp-rev" aria-hidden="true" class="header-anchor">#</a> gulp-rev</h4> <p><strong>描述</strong>：给静态资源文件名添加hash值:unicorn.css =&gt; unicorn-d41d8cd98f.css</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var rev = require('gulp-rev');

gulp.src('./css/*.css')
    .pipe(rev())
    .pipe(gulp.dest('./dist/css'))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="gulp-rev-replace"><a href="#gulp-rev-replace" aria-hidden="true" class="header-anchor">#</a> gulp-rev-replace</h4> <p><strong>描述</strong>：重写被gulp-rev重命名的文件名。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var rev = require('gulp-rev');
var revReplace = require('gulp-rev-replace');
var useref = require('gulp-useref');

gulp.src('index.html')
    .pipe(useref())                         // 替换HTML中引用的css和js
    .pipe(rev())                            // 给css,js,html加上hash版本号
    .pipe(revReplace())                     // 把引用的css和js替换成有版本号的名字
    .pipe(gulp.dest('./dist'))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="gulp-html-replace"><a href="#gulp-html-replace" aria-hidden="true" class="header-anchor">#</a> gulp-html-replace</h4> <p><strong>描述</strong>：替换html中的构建块。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// index.html

&lt;!-- build:css --&gt;                          // css是buildName,可以自己定义
&lt;link rel=&quot;stylesheet&quot; href=&quot;css/normalize.css&quot;&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;css/main.css&quot;&gt;
&lt;!-- endbuild --&gt;

// gulpfile.js

var htmlreplace = require('gulp-html-replace');

gulp.src('index.html')
    .pipe(htmlreplace({
        'css':'all.css'                     // css是index.html中定义的buildName
    }))
    .pipe(gulp.dest('./dist'))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>替换之后的index.html中就会变成：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;all.css&quot;&gt;      // 之前的两个&lt;link&gt;替换成一个了
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="流控制"><a href="#流控制" aria-hidden="true" class="header-anchor">#</a> 流控制</h3> <h4 id="gulp-if"><a href="#gulp-if" aria-hidden="true" class="header-anchor">#</a> gulp-if</h4> <p><strong>描述</strong>：有条件地运行一个任务。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var gulpif = require('gulp-if');
var uglify = require('gulp-uglify');
var concat = require('gulp-concat');
var condition = true; 

gulp.src('./js/*.js')
    .pipe(gulpif(condition, uglify(), concat('all.js')))  // condition为true时执行uglify(), else 执行concat('all.js')
    .pipe(gulp.dest('./dist/'));
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="工具"><a href="#工具" aria-hidden="true" class="header-anchor">#</a> 工具</h3> <h4 id="gulp-load-plugins"><a href="#gulp-load-plugins" aria-hidden="true" class="header-anchor">#</a> gulp-load-plugins</h4> <p><strong>描述</strong>：从包的依赖和附件里加载gulp插件到一个对象里给你选择。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// package.json 

&quot;devDependencies&quot;: {
    &quot;gulp&quot;: &quot;^3.9.1&quot;,
    &quot;gulp-concat&quot;: &quot;^2.6.1&quot;,
    &quot;gulp-rename&quot;: &quot;^1.2.2&quot;,
    &quot;gulp-uglify&quot;: &quot;^2.0.1&quot;
}

// gulpfile.js

var $ = require('gulp-load-plugins')();     // $ 是一个对象,加载了依赖里的插件

gulp.src('./**/*.js')
    .pipe($.concat('all.js'))               // 使用插件就可以用$.PluginsName()
    .pipe($.uglify())
    .pipe($.rename('all.min.js'))
    .pipe(gulp.dest('./dist'))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="gulp-sass"><a href="#gulp-sass" aria-hidden="true" class="header-anchor">#</a> gulp-sass</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>var sass = require('gulp-sass');

gulp.src('./sass/**/*.scss')
    .pipe(sass({
        outputStyle: 'compressed'           // 配置输出方式,默认为nested
    }))
    .pipe(gulp.dest('./dist/css'));
    
gulp.watch('./sass/**/*.scss', ['sass']);   // 实时监听sass文件变动,执行sass任务
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="gulp-less"><a href="#gulp-less" aria-hidden="true" class="header-anchor">#</a> gulp-less</h4> <p><strong>描述</strong> :编译Less</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var gulp = require('gulp'),
    less = require(&quot;gulp-less&quot;);
 
gulp.task('compile-less', function () {
    gulp.src('less/*.less')
    .pipe(less())
    .pipe(gulp.dest('dist/css'));
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="gulp-babel"><a href="#gulp-babel" aria-hidden="true" class="header-anchor">#</a> gulp-babel</h4> <p><strong>描述</strong>：将ES6代码编译成ES5。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var babel = require('gulp-babel');

gulp.src('./js/index.js')
    .pipe(babel({
        presets: ['es2015']
    }))
    .pipe(gulp.dest('./dist'))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="gulp-jshint-js代码检查"><a href="#gulp-jshint-js代码检查" aria-hidden="true" class="header-anchor">#</a> gulp-jshint    JS代码检查</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>var gulp = require('gulp');
var jshint = require(&quot;gulp-jshint&quot;);
 
gulp.task('jsLint', function () {
    gulp.src('js/*.js')
    .pipe(jshint())
    .pipe(jshint.reporter()); // 输出检查结果
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="gulp-livereload-自动刷新"><a href="#gulp-livereload-自动刷新" aria-hidden="true" class="header-anchor">#</a> gulp-livereload 自动刷新</h4> <p><strong>描述</strong>：当代码变化时，它可以帮助我们自动刷新页面，该插件最好配合谷歌浏览器，且要安装livereload chrome extension扩展插件，否则无效。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var gulp = require('gulp'),
    less = require('gulp-less'),
    livereload = require('gulp-livereload');
 
gulp.task('less', function() {
  gulp.src('less/*.less')
    .pipe(less())
    .pipe(gulp.dest('css'))
    .pipe(livereload());
});
 
gulp.task('watch', function() {
  livereload.listen(); //要在这里调用listen()方法
  gulp.watch('less/*.less', ['less']);  //监听目录下的文件，若文件发生变化，则调用less任务。
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/1/2020, 9:00:40 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blogs/views/no.3/grunt.html" class="prev">
          grunt
        </a></span> <span class="next"><a href="/blogs/views/no.3/jenkins.html">
          jenkins
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blogs/views/assets/js/app.8050140c.js" defer></script><script src="/blogs/views/assets/js/2.d340cefd.js" defer></script><script src="/blogs/views/assets/js/58.39fed49d.js" defer></script>
  </body>
</html>
